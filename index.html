<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0b10" />

  <meta name="description" content="ViralVault Store ‚Äî Loja digital (Roblox) com checkout via PIX, entrega em at√© 24h e verifica√ß√£o de pedido (Order ID)." />
  <meta name="keywords" content="ViralVault, Roblox, Robux, contas, itens, pix, checkout, loja digital" />
  <meta name="author" content="ViralVault" />
  <meta property="og:title" content="ViralVault Store" />
  <meta property="og:description" content="Compre r√°pido, pague via PIX e receba. Verifique seu pedido com Order ID." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="pt_BR" />
  <meta property="og:url" content="https://viralvault-store.vercel.app/" />
  <meta property="og:image" content="https://viralvault-store.vercel.app/og.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="ViralVault Store" />
  <meta name="twitter:description" content="Checkout PIX + verifica√ß√£o de pedido (Order ID)." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">

  <title>ViralVault Store</title>

  <link rel="canonical" href="https://viralvault-store.vercel.app/" />
  <meta name="robots" content="index,follow" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()" />


  <meta name="color-scheme" content="dark light" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <style>
    :root{
      --bg:#0b0b10;
      --card:#12121a;
      --card2:#151523;
      --line:rgba(255,255,255,.08);
      --text:#f3f3ff;
      --muted:rgba(243,243,255,.72);
      --muted2:rgba(243,243,255,.55);
      --pink:#ff4fa3;
      --pink2:#ff2f8a;
      --yellow:#ffd24a;
      --green:#2bff88;
      --shadow: 0 24px 80px rgba(0,0,0,.65);
      --shadow2: 0 12px 44px rgba(0,0,0,.55);
      --r: 22px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:
        radial-gradient(1200px 600px at 20% 0%, rgba(255,79,163,.22), transparent 60%),
        radial-gradient(900px 500px at 85% 20%, rgba(255,210,74,.16), transparent 58%),
        radial-gradient(900px 520px at 55% 120%, rgba(120,94,255,.14), transparent 60%),
        linear-gradient(180deg, #0b0b10 0%, #090910 100%);
      color:var(--text);
      font-family: "Space Grotesk", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      overflow-x:hidden;
    }

    a{color:inherit}

    .wrap{max-width:1100px; margin:0 auto; padding:18px 16px 110px;}

    /* Topbar */
    .topbar{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      position:sticky; top:0; z-index:30;
      padding:12px 0;
      backdrop-filter: blur(12px);
      background: linear-gradient(180deg, rgba(11,11,16,.82), rgba(11,11,16,.35));
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .brand{display:flex; align-items:center; gap:10px; min-width:0}
    .logo{
      width:40px; height:40px; border-radius:14px;
      background:
        radial-gradient(120% 120% at 25% 20%, rgba(255,210,74,.9), rgba(255,79,163,.8) 45%, rgba(120,94,255,.55) 85%),
        linear-gradient(180deg, rgba(255,255,255,.2), rgba(255,255,255,0));
      box-shadow: 0 16px 44px rgba(255,79,163,.14);
      display:grid; place-items:center;
      border:1px solid rgba(255,255,255,.12);
    }
    .logo span{font-weight:900; letter-spacing:.5px}
    .btxt{display:flex; flex-direction:column; line-height:1.1; min-width:0}
    .btxt strong{font-size:14px}
    .btxt small{font-size:12px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis}

    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px;
      border:1px solid rgba(255,255,255,.10);
      border-radius:999px;
      background: rgba(18,18,26,.62);
      box-shadow: var(--shadow2);
    }
    .dot{width:9px; height:9px; border-radius:50%; background:var(--green); box-shadow: 0 0 0 6px rgba(43,255,136,.12)}
    .pill b{font-size:12px}
    .pill span{font-size:12px; color:var(--muted)}

    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end}

    .btn{
      border:0; cursor:pointer;
      padding:11px 14px;
      border-radius:16px;
      font-weight:800;
      color:var(--text);
      background: rgba(18,18,26,.72);
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      display:inline-flex; align-items:center; gap:10px;
    }
    .btn:hover{transform: translateY(-1px); border-color: rgba(255,255,255,.18)}
    .btn:active{transform: translateY(0px) scale(.99)}

    .btnPrimary{
      background: linear-gradient(135deg, rgba(255,79,163,.95), rgba(255,47,138,.92));
      border-color: rgba(255,255,255,.10);
      box-shadow: 0 18px 55px rgba(255,79,163,.18);
    }

    .btnGhost{
      background: rgba(18,18,26,.45);
    }

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns: 1.12fr .88fr;
      gap:16px;
      padding:18px 0 10px;
    }
    @media (max-width: 920px){
      .hero{grid-template-columns:1fr;}
    }

    .heroCard{
      border-radius: var(--r);
      background:
        radial-gradient(1100px 420px at 20% 10%, rgba(255,79,163,.16), transparent 62%),
        radial-gradient(820px 460px at 80% 40%, rgba(255,210,74,.14), transparent 65%),
        linear-gradient(180deg, rgba(18,18,26,.84), rgba(18,18,26,.56));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .heroCard::before{
      content:"";
      position:absolute; inset:-1px;
      background: linear-gradient(135deg, rgba(255,79,163,.28), rgba(255,210,74,.18), rgba(120,94,255,.18));
      opacity:.35;
      filter: blur(18px);
      z-index:0;
    }
    .heroInner{position:relative; z-index:1; padding:18px 18px 16px;}
    .badgeRow{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
    .tag{
      display:inline-flex; gap:8px; align-items:center;
      padding:8px 10px;
      background: rgba(11,11,16,.45);
      border:1px solid rgba(255,255,255,.10);
      border-radius:999px;
      font-size:12px; color:var(--muted);
    }
    .tag i{width:8px; height:8px; border-radius:50%; display:inline-block; background: var(--yellow); box-shadow: 0 0 0 6px rgba(255,210,74,.12)}

    h1{margin:14px 0 10px; font-size:42px; line-height:1.05; letter-spacing:-.02em}
    @media (max-width: 520px){ h1{font-size:34px} }

    .sub{color:var(--muted); font-size:14px; line-height:1.5; margin:0 0 14px}

    .heroCtas{display:flex; flex-wrap:wrap; gap:10px; align-items:center}

    .miniProof{
      margin-top:14px;
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width: 520px){
      .miniProof{grid-template-columns:1fr;}
    }
    .stat{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,11,16,.35);
      padding:12px;
      box-shadow: var(--shadow2);
    }
    .stat b{display:block; font-size:14px}
    .stat span{display:block; font-size:12px; color:var(--muted); margin-top:3px}

    .sideCard{
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(18,18,26,.75), rgba(18,18,26,.52));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      padding:16px;
      overflow:hidden;
      position:relative;
    }
    .sideCard::after{
      content:"";
      position:absolute; right:-40px; top:-40px;
      width:160px; height:160px;
      background: radial-gradient(circle at 30% 30%, rgba(255,210,74,.35), transparent 65%);
      filter: blur(6px);
      opacity:.85;
    }
    .sideCard h3{margin:0 0 8px; font-size:16px}
    .sideCard p{margin:0 0 12px; color:var(--muted); font-size:13px; line-height:1.45}

    .inputRow{display:flex; gap:10px; flex-wrap:wrap}
    .inp{
      flex:1;
      min-width: 220px;
      border-radius:16px;
      padding:12px 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,11,16,.35);
      color:var(--text);
      outline:none;
      box-shadow: var(--shadow2);
    }
    .inp::placeholder{color: rgba(243,243,255,.45)}

    /* Sections */
    .sectionTitle{display:flex; align-items:baseline; justify-content:space-between; gap:10px; margin:18px 0 10px}
    .sectionTitle h2{margin:0; font-size:20px}
    .sectionTitle small{color:var(--muted2)}

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
    }
    @media (max-width: 980px){ .grid{grid-template-columns: repeat(2, 1fr);} }
    @media (max-width: 620px){ .grid{grid-template-columns: 1fr;} }

    .card{
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(18,18,26,.82), rgba(18,18,26,.56));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      padding:14px;
      position:relative;
      overflow:hidden;
      transform: translateZ(0);
    }
    .card::before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(420px 220px at 15% 20%, rgba(255,79,163,.20), transparent 60%),
                  radial-gradient(520px 240px at 90% 10%, rgba(255,210,74,.14), transparent 62%);
      opacity:.8;
      z-index:0;
    }
    .card > *{position:relative; z-index:1}

    .krow{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px}
    .chip{
      display:inline-flex; gap:8px; align-items:center;
      padding:7px 10px;
      border-radius:999px;
      background: rgba(11,11,16,.35);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      font-size:12px;
    }
    .chip i{width:8px; height:8px; border-radius:50%; background: var(--green); display:inline-block}
    .chip.prem i{background: var(--yellow)}
    .chip.custom i{background: var(--pink)}

    .title{font-size:18px; margin:0 0 6px}
    .desc{margin:0 0 12px; color:var(--muted); font-size:13px; line-height:1.45}

    .priceRow{display:flex; align-items:end; justify-content:space-between; gap:10px}
    .price{
      font-size:28px;
      font-weight:900;
      letter-spacing:-.02em;
    }
    .currency{font-size:14px; color:var(--muted2); font-weight:700}

    .buy{
      padding:12px 14px;
      border-radius:16px;
      border:0;
      cursor:pointer;
      font-weight:900;
      color:var(--text);
      background: linear-gradient(135deg, rgba(255,79,163,.95), rgba(255,47,138,.92));
      box-shadow: 0 18px 55px rgba(255,79,163,.20);
      border:1px solid rgba(255,255,255,.10);
      transition: transform .12s ease;
      min-width: 145px;
    }
    .buy:hover{transform: translateY(-1px)}
    .buy:active{transform: translateY(0px) scale(.99)}

    /* How it works */
    .how{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top:10px;
    }
    @media (max-width: 820px){ .how{grid-template-columns:1fr;} }
    .step{
      border-radius: var(--r);
      padding:14px;
      background: linear-gradient(180deg, rgba(18,18,26,.74), rgba(18,18,26,.48));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
    }
    .num{
      width:34px; height:34px; border-radius:14px;
      display:grid; place-items:center;
      background: rgba(255,210,74,.12);
      border:1px solid rgba(255,210,74,.24);
      color: var(--yellow);
      font-weight:900;
      margin-bottom:10px;
    }
    .step b{display:block; margin-bottom:6px}
    .step span{color:var(--muted); font-size:13px; line-height:1.45}

    /* Footer */
    .footer{margin-top:18px; color:var(--muted2); font-size:12px; text-align:center}

    /* Modal */
    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.62);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:50;
      padding:18px;
    }
    .overlay.show{display:flex}

    .modal{
      width:min(760px, 100%);
      border-radius: 26px;
      background:
        radial-gradient(900px 420px at 15% 10%, rgba(255,79,163,.18), transparent 65%),
        radial-gradient(760px 420px at 85% 20%, rgba(255,210,74,.14), transparent 65%),
        linear-gradient(180deg, rgba(18,18,26,.92), rgba(18,18,26,.76));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }

    .modalHead{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      padding:14px 14px 10px;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .modalHead b{font-size:14px}
    .x{
      width:42px; height:42px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,11,16,.30);
      color:var(--text);
      cursor:pointer;
      font-weight:900;
    }

    .modalBody{padding:14px}

    .box{
      border-radius: 20px;
      background: rgba(11,11,16,.30);
      border:1px solid rgba(255,255,255,.10);
      padding:12px;
      box-shadow: var(--shadow2);
      margin-bottom:10px;
    }
    .boxTitle{display:flex; justify-content:space-between; align-items:baseline; gap:10px}
    .boxTitle b{font-size:16px}
    .boxTitle span{color:var(--muted); font-size:12px}

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 720px){ .row{grid-template-columns:1fr;} }

    .ctaBig{
      width:100%;
      padding:14px 14px;
      border-radius: 18px;
      border:0;
      cursor:pointer;
      font-weight:1000;
      color:var(--text);
      background: linear-gradient(135deg, rgba(255,79,163,.98), rgba(255,47,138,.92));
      box-shadow: 0 18px 55px rgba(255,79,163,.20);
      border:1px solid rgba(255,255,255,.10);
      transition: transform .12s ease;
    }
    .ctaBig:hover{transform: translateY(-1px)}

    .small{font-size:12px; color:var(--muted); margin-top:6px}

    .mono{
      width:100%;
      min-height:92px;
      resize:none;
      border-radius:18px;
      padding:12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,11,16,.35);
      color:var(--text);
      outline:none;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:12px;
      line-height:1.45;
    }

    .miniBtns{display:flex; flex-wrap:wrap; gap:10px; margin-top:10px}
    .mini{
      padding:10px 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,11,16,.30);
      color:var(--text);
      font-weight:900;
      cursor:pointer;
    }

    .notice{
      margin-top:10px;
      border-radius: 18px;
      padding:12px;
      border:1px dashed rgba(255,210,74,.30);
      background: rgba(255,210,74,.08);
      color: rgba(255,245,210,.95);
      font-size:12px;
      line-height:1.45;
    }

    /* Floating support */
    .float{
      position:fixed;
      right:14px;
      bottom:14px;
      z-index:60;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:flex-end;
    }

    /* ===== UI offsets (evitar bot√µes grudados / safe-area) ===== */
    :root{ --bb: 0px; }
    .bottomBar{ padding-bottom: calc(10px + env(safe-area-inset-bottom)); }
    .float{ bottom: calc(14px + var(--bb) + env(safe-area-inset-bottom)); }
    body.chatOpen .bottomBar{ transform: translateY(120%); opacity:0; pointer-events:none; }
    body.chatOpen .float{ bottom: calc(14px + env(safe-area-inset-bottom)); }
    body.chatOpen .modal.show + .float{ bottom: calc(14px + env(safe-area-inset-bottom)); }

    .fab{
      border:0; cursor:pointer;
      border-radius: 999px;
      padding:14px 14px;
      font-weight:1000;
      color:var(--text);
      background:
        radial-gradient(120% 120% at 25% 20%, rgba(255,210,74,.75), rgba(255,79,163,.75) 52%, rgba(120,94,255,.50) 100%),
        linear-gradient(180deg, rgba(255,255,255,.2), rgba(255,255,255,0));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 24px 90px rgba(0,0,0,.6);
      display:inline-flex; align-items:center; gap:10px;
    }

    .chat{
      width:min(420px, calc(100vw - 28px));
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(18,18,26,.92), rgba(18,18,26,.72));
      border:1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      overflow:hidden;
      display:none;
    }
    .chat.show{display:block}
    .chatHead{display:flex; align-items:center; justify-content:space-between; padding:12px 12px; border-bottom:1px solid rgba(255,255,255,.08)}
    .chatHead b{font-size:13px}
    .chatHead small{display:block; color:var(--muted); font-size:11px; margin-top:2px}

    .chatBody{max-height: 52vh; overflow:auto; padding:12px; display:flex; flex-direction:column; gap:10px}
    .m{
      width:fit-content;
      max-width: 92%;
      border-radius: 18px;
      padding:10px 12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,11,16,.35);
      color:var(--text);
      font-size:13px;
      line-height:1.45;
      white-space:pre-wrap;
    }
    .me{margin-left:auto; background: rgba(255,79,163,.16); border-color: rgba(255,79,163,.22)}
    .ai{margin-right:auto}

    .chatFoot{display:flex; gap:10px; padding:12px; border-top:1px solid rgba(255,255,255,.08)}
    .send{min-width: 88px}

    /* Sticky bottom bar */
    .bottomBar{
      position:fixed; left:0; right:0; bottom:0;
      z-index:25;
      background: linear-gradient(180deg, rgba(11,11,16,0), rgba(11,11,16,.82) 35%, rgba(11,11,16,.95));
      padding:10px 0 12px;
      border-top:1px solid rgba(255,255,255,.06);
      backdrop-filter: blur(12px);
    }
    .bottomInner{
      max-width:1100px; margin:0 auto; padding:0 16px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    .bottomInner span{color:var(--muted); font-size:12px}

    /* Toast */
    .toast{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:86px;
      background: rgba(18,18,26,.92);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      border-radius: 16px;
      padding:10px 12px;
      color:var(--text);
      font-size:12px;
      z-index:70;
      display:none;
    }
    .toast.show{display:block}

    /* Motion-lite */
    @media (prefers-reduced-motion: no-preference){
      .card{animation: floatIn .35s ease both;}
      .heroCard, .sideCard{animation: floatIn .35s ease both;}
      @keyframes floatIn{
        from{opacity:0; transform: translateY(10px)}
        to{opacity:1; transform: translateY(0px)}
      }
    }
  
  .float{display:flex;flex-direction:column;gap:12px;align-items:flex-end}
  .fab.zap{background:linear-gradient(135deg,#19c37d,#0b8f5c);box-shadow:0 18px 55px rgba(25,195,125,.25)}
  .fab.zap:active{transform:translateY(1px) scale(.99)}
  /* garante clique acima de tudo */
  .float{z-index:9999;pointer-events:auto}
  #chat{z-index:10000}


  /* Admin Modal */

  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:18px;background:rgba(0,0,0,.55);backdrop-filter:blur(10px)}
  .modal.show{display:flex}
  .modalCard{width:min(720px,100%);background:rgba(20,20,25,.82);border:1px solid rgba(255,255,255,.10);border-radius:22px;box-shadow:0 40px 120px rgba(0,0,0,.55);padding:16px 16px 14px}
  .modalTop{display:flex;align-items:flex-start;justify-content:space-between;gap:14px;margin-bottom:10px}
  .modalTitle{font-weight:900;font-size:18px;letter-spacing:.2px}
  .modalSub{opacity:.75;font-size:13px;margin-top:2px}
  .field{display:flex;flex-direction:column;gap:6px}
  .field span{font-size:12px;opacity:.8}
  .field input{width:100%;padding:12px 12px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(0,0,0,.25);color:#fff;outline:none}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  @media (max-width:560px){.grid2{grid-template-columns:1fr}}
  .rowBtns{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0 10px}
  .adminOut{max-height:280px;overflow:auto;margin:0;background:rgba(0,0,0,.25);border:1px solid rgba(255,255,255,.10);border-radius:16px;padding:12px;color:#d7d7e6}
  .hint{font-size:12px;opacity:.7;margin-top:10px}


    /* Categories quick focus */
    #catGrid .card{cursor:pointer}
    #catGrid .card:focus{outline:2px solid rgba(255,210,74,.35); outline-offset:2px}

    /* Product skeleton */
    .skeleton{
      position:relative;
      overflow:hidden;
    }
    .skeleton::after{
      content:"";
      position:absolute; inset:0;
      transform: translateX(-60%);
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
      animation: shimmer 1.1s infinite;
    }
    @keyframes shimmer{
      to{ transform: translateX(60%); }
    }

    /* Footer inspired but original */
    .footerArea{
      margin-top:28px;
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(18,18,26,.80), rgba(18,18,26,.55));
      box-shadow: var(--shadow2);
      padding:18px;
    }
    .footerGrid{
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr;
      gap:14px;
    }
    @media (max-width:860px){ .footerGrid{grid-template-columns:1fr;} }
    .footerArea h4{margin:0 0 8px}
    .footerArea p{margin:0 0 10px; color:var(--muted); font-size:13px; line-height:1.5}
    .flinks{display:grid; gap:8px; font-size:13px; color:var(--muted)}
    .flinks a{opacity:.9; text-decoration:none}
    .flinks a:hover{text-decoration:underline}
    .contactLine{display:flex; gap:10px; align-items:flex-start; color:var(--muted); font-size:13px; margin:8px 0}
    .socials{display:flex; gap:10px; margin-top:10px}
    .socialBtn{
      width:44px;height:44px;border-radius:16px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,11,16,.35);
      cursor:pointer;
    }


    /* Turbo product cards */
    .pMedia{
      height:92px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(700px 220px at 20% 0%, rgba(255,210,74,.28), transparent 55%),
        radial-gradient(700px 240px at 85% 10%, rgba(255,59,74,.18), transparent 55%),
        rgba(11,11,16,.35);
      margin-bottom:10px;
      overflow:hidden;
      position:relative;
    }
    .pMedia::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,.28) 100%);
      pointer-events:none;
    }
    .badgeRow{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px}
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:7px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,11,16,.30);
      font-size:12px; color: var(--muted); font-weight:900;
    }
    .badge b{color:#fff}
    .badge .dot{width:8px; height:8px; border-radius:50%; background: var(--yellow)}
    .badge.red .dot{background: var(--red)}
    .badge.green .dot{background: #3ef08f}
    .card:hover{transform: translateY(-1px); transition: .15s ease}


    /* ===== UI Upgrade Pack (turbo) ===== */
    :root{
      --glass: rgba(18,18,26,.62);
      --glass2: rgba(11,11,16,.30);
      --stroke2: rgba(255,255,255,.14);
      --shadow3: 0 24px 70px rgba(0,0,0,.55);
    }
    html{scroll-behavior:smooth}
    body{letter-spacing:.2px}

    /* nicer headings */
    .sectionTitle h2{
      font-size: 22px;
      letter-spacing: .2px;
    }
    .sectionTitle small{
      display:block;
      margin-top:6px;
      opacity:.86;
    }

    /* subtle section divider */
    .sectionTitle{
      position:relative;
      padding-top: 2px;
    }
    .sectionTitle::after{
      content:"";
      position:absolute;
      left:0; right:0; bottom:-10px;
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
      pointer-events:none;
    }

    /* upgraded cards */
    .card{
      border-color: var(--stroke2);
      background: linear-gradient(180deg, rgba(18,18,26,.84), rgba(18,18,26,.55));
      transition: transform .16s ease, border-color .16s ease, box-shadow .16s ease, background .16s ease;
      box-shadow: var(--shadow2);
    }
    .card:hover{
      border-color: rgba(255,210,74,.22);
      box-shadow: var(--shadow3);
    }

    /* upgraded chips */
    .chip{
      border-color: rgba(255,255,255,.14);
      background: rgba(11,11,16,.28);
      transition: transform .14s ease, border-color .14s ease, background .14s ease;
      user-select:none;
    }
    .chip:hover{
      border-color: rgba(255,210,74,.22);
      transform: translateY(-1px);
    }

    /* upgraded buy button / totalBtn */
    .buy, .totalBtn{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(11,11,16,.25);
      transition: transform .14s ease, filter .14s ease, border-color .14s ease, box-shadow .14s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,.25);
    }
    .buy:hover, .totalBtn:hover{
      border-color: rgba(255,210,74,.28);
      transform: translateY(-1px);
      filter: brightness(1.03);
    }
    .buy:active, .totalBtn:active{
      transform: translateY(0px) scale(.99);
    }

    /* make primary actions pop */
    .totalBtn{
      font-weight: 950;
      letter-spacing: .25px;
    }

    /* grid spacing */
    .grid{gap:14px}
    @media (max-width:860px){
      .grid{gap:12px}
      #vvFab{bottom:10px}
      #vvFab .totalBtn{flex:1}
    }

    /* improved pMedia shimmer */
    .pMedia{
      background:
        radial-gradient(700px 240px at 20% 0%, rgba(255,210,74,.34), transparent 55%),
        radial-gradient(700px 260px at 85% 10%, rgba(255,59,74,.22), transparent 55%),
        rgba(11,11,16,.35);
    }
    .pMedia::before{
      content:"";
      position:absolute; inset:-40% -60%;
      transform: translateX(-60%);
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
      animation: vvShimmer 1.4s infinite;
      pointer-events:none;
    }
    @keyframes vvShimmer{ to{ transform: translateX(60%); } }

    /* nicer inputs */
    input, textarea{
      transition: border-color .14s ease, box-shadow .14s ease;
    }
    input:focus, textarea:focus{
      box-shadow: 0 0 0 4px rgba(255,210,74,.10);
    }

    /* details accordion polish */
    details summary{
      list-style:none;
    }
    details summary::-webkit-details-marker{display:none}
    details[open]{
      border-color: rgba(255,210,74,.20) !important;
    }

    /* reduce motion preference */
    @media (prefers-reduced-motion: reduce){
      *{animation:none !important; transition:none !important; scroll-behavior:auto !important;}
    }


    /* ===== Theme: Light Mode (toggle) ===== */
    html[data-theme="light"]{
      --bg:#f6f7fb;
      --panel:#ffffff;
      --panel2:#f1f2f6;
      --txt:#101218;
      --muted:rgba(16,18,24,.70);
      --stroke:rgba(16,18,24,.10);
      --stroke2:rgba(16,18,24,.12);
      --glass: rgba(255,255,255,.74);
      --glass2: rgba(255,255,255,.55);
      --shadow2: 0 12px 30px rgba(16,18,24,.12);
      --shadow3: 0 22px 60px rgba(16,18,24,.16);
    }
    html[data-theme="light"] body{
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(255,210,74,.22), transparent 55%),
        radial-gradient(1100px 750px at 90% 10%, rgba(255,59,74,.14), transparent 55%),
        var(--bg);
    }
    html[data-theme="light"] .pMedia::before{opacity:.55}


    /* A11y */
    .skipLink{
      position:absolute; left:-999px; top:10px;
      background:rgba(11,11,16,.92); color:#fff;
      padding:10px 12px; border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      z-index:2000;
    }
    .skipLink:focus{left:12px; outline: 3px solid rgba(255,210,74,.35)}
    :focus-visible{
      outline: 3px solid rgba(255,210,74,.35);
      outline-offset: 2px;
    }


    /* Skeleton loading */
    .skeletonGrid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:14px;
    }
    @media(max-width:860px){ .skeletonGrid{grid-template-columns:1fr} }
    .skCard{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(11,11,16,.22);
      border-radius:22px;
      padding:16px;
      overflow:hidden;
      position:relative;
      box-shadow: 0 12px 30px rgba(0,0,0,.25);
    }
    .skLine{height:12px; border-radius:999px; background:rgba(255,255,255,.10); margin-top:10px}
    .skLine.big{height:18px; width:70%}
    .skLine.mid{width:90%}
    .skLine.small{width:55%}
    .skMedia{height:92px; border-radius:16px; background:rgba(255,255,255,.08)}
    .skShimmer{
      position:absolute; inset:-40% -60%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
      transform: translateX(-60%);
      animation: vvSk 1.2s infinite;
      pointer-events:none;
    }
    @keyframes vvSk{ to{ transform: translateX(60%); } }


    /* Reduced motion manual toggle */
    html.reduce-motion *{
      animation: none !important;
      transition: none !important;
      scroll-behavior: auto !important;
    }


    /* ===== Global-grade UI Pack ===== */
    .container{max-width:1060px; margin:0 auto; padding:0 12px}
    .muted{color:var(--muted)}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
    .btnPrimary{
      border:1px solid rgba(255,255,255,.16);
      background: linear-gradient(135deg, rgba(255,210,74,1), rgba(255,59,74,1));
      color:#0b0b10;
      font-weight:1000;
      box-shadow: 0 18px 50px rgba(0,0,0,.40);
    }
    .btnPrimary:hover{filter: brightness(1.03)}
    .btnGhost{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(11,11,16,.18);
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:10px 12px; border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(11,11,16,.18);
      font-weight:900;
    }
    /* Product modal */
    #vvPModal{display:none; position:fixed; inset:0; z-index:2000; align-items:center; justify-content:center; padding:14px;}
    #vvPBackdrop{position:absolute; inset:0; background:rgba(0,0,0,.58);}
    #vvPPanel{position:relative; width:100%; max-width:920px; max-height:84vh; overflow:auto;}
    .pGrid{display:grid; grid-template-columns: 1.1fr .9fr; gap:12px}
    @media(max-width:860px){ .pGrid{grid-template-columns:1fr} }
    .pBigMedia{
      height:260px; border-radius:22px; border:1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(900px 320px at 20% 0%, rgba(255,210,74,.32), transparent 55%),
        radial-gradient(900px 360px at 85% 10%, rgba(255,59,74,.18), transparent 55%),
        rgba(11,11,16,.32);
      position:relative; overflow:hidden;
    }
    .pBigMedia:before{
      content:""; position:absolute; inset:-40% -60%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.09), transparent);
      transform: translateX(-60%); animation: vvSk 1.2s infinite;
    }

    /* Mobile bottom nav (global app vibe) */
    #vvBottomNav{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:10px; z-index:1800;
      width:min(980px, calc(100% - 20px));
      display:none;
    }
    #vvBottomNav .bar{
      display:flex; gap:10px; justify-content:space-between; align-items:center;
      padding:10px 12px;
      border-radius:22px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(10,10,14,.72);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      box-shadow:0 18px 50px rgba(0,0,0,.50);
    }
    #vvBottomNav .tab{
      flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center;
      gap:4px; padding:8px 6px; border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(11,11,16,.18);
      color:#fff; text-decoration:none; font-weight:900; font-size:12px;
    }
    #vvBottomNav .tab small{opacity:.75; font-weight:900}
    #vvBottomNav .tab:active{transform:scale(.99)}
    @media(max-width:860px){
      #vvBottomNav{display:block}
      #vvFab{bottom:88px}
    }

    /* stack sticky banners nicely */
    #vvBanner{top:0}
    #vvNotice{top:0}

</style>
<script type="application/ld+json">{"@context": "https://schema.org", "@graph": [{"@type": "Organization", "@id": "https://viralvault-store.vercel.app/#org", "name": "ViralVault Store", "url": "https://viralvault-store.vercel.app/", "logo": "https://viralvault-store.vercel.app/og.png", "sameAs": []}, {"@type": "WebSite", "@id": "https://viralvault-store.vercel.app/#website", "url": "https://viralvault-store.vercel.app/", "name": "ViralVault Store", "publisher": {"@id": "https://viralvault-store.vercel.app/#org"}, "inLanguage": "pt-BR", "potentialAction": {"@type": "SearchAction", "target": "https://viralvault-store.vercel.app/?q={search_term_string}", "query-input": "required name=search_term_string"}}]}</script>

  <!-- ===== Social / Share ===== -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="ViralVault Store" />
  <meta property="og:title" content="ViralVault Store" />
  <meta property="og:description" content="Loja digital com checkout PIX e verifica√ß√£o por Order ID." />
  <meta property="og:image" content="https://viralvault-store.vercel.app/og.png" />
  <meta property="og:url" content="https://viralvault-store.vercel.app/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="ViralVault Store" />
  <meta name="twitter:description" content="Loja digital com checkout PIX e verifica√ß√£o por Order ID." />
  <meta name="twitter:image" content="https://viralvault-store.vercel.app/og.png" />
  <meta name="theme-color" content="#0b0b10" />
  <link rel="preconnect" href="https://viralvault-sign.darlanana06.workers.dev" crossorigin />
  <link rel="dns-prefetch" href="https://viralvault-sign.darlanana06.workers.dev" />

</head>
<body>
  <a class="skipLink" href="#produtos">Pular para o cat√°logo</a>

  <!-- ===== Status Banner ===== -->
  <div id="vvBanner" style="display:none; position:sticky; top:0; z-index:1700;">
    <div style="max-width:980px; margin:0 auto; padding:10px 12px 0;">
      <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
           padding:10px 12px; border-radius:18px; border:1px solid rgba(255,255,255,.12);
           background:rgba(255,59,74,.14); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
           box-shadow:0 18px 44px rgba(0,0,0,.35);">
        <div style="display:flex; gap:10px; align-items:center; font-weight:950;">
          <span style="width:10px;height:10px;border-radius:50%;background:var(--red);display:inline-block"></span>
          <span id="vvBannerText">Servi√ßo inst√°vel. Tente novamente em alguns minutos.</span>
        </div>
        <button class="totalBtn" id="vvBannerRetry" type="button" style="justify-content:center">Tentar de novo</button>
      
      <div class="card" id="vvTrustBanner" style="margin-top:12px; background:rgba(11,11,16,.18)">
        <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
          <div class="pill"><span style="width:10px;height:10px;border-radius:50%;background:rgba(62,240,143,1)"></span> Pagamento verificado</div>
          <div class="pill"><span style="width:10px;height:10px;border-radius:50%;background:var(--yellow)"></span> Order ID oficial</div>
          <div class="pill"><span style="width:10px;height:10px;border-radius:50%;background:var(--red)"></span> Anti-golpe</div>
          <button class="totalBtn btnGhost" id="vvTrustWpp" type="button" style="justify-content:center">üí¨ Suporte</button>
        </div>
        <div class="desc" style="margin-top:10px; line-height:1.7">
          Sempre confira o <b>destinat√°rio do PIX</b> no seu banco e valide o pedido pelo <b>Order ID</b>.
          Suporte r√°pido via WhatsApp.
        </div>
      </div>

</div>
    </div>
  </div>


  <!-- ===== Catalog Notice ===== -->
  <div id="vvNotice" style="display:none; position:sticky; top:0; z-index:1750;">
    <div style="max-width:980px; margin:0 auto; padding:10px 12px 0;">
      <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
           padding:10px 12px; border-radius:18px; border:1px solid rgba(255,255,255,.12);
           background:rgba(255,210,74,.14); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
           box-shadow:0 18px 44px rgba(0,0,0,.30);">
        <div style="display:flex; gap:10px; align-items:center; font-weight:950;">
          <span style="width:10px;height:10px;border-radius:50%;background:var(--yellow);display:inline-block"></span>
          <span id="vvNoticeText">Cat√°logo em modo fallback (offline). Alguns itens podem estar desatualizados.</span>
        </div>
        <button class="totalBtn" id="vvNoticeRetry" type="button" style="justify-content:center">Recarregar</button>
      </div>
    </div>
  </div>



    <!-- ===== HERO UPGRADE ===== -->
    <div class="card" id="vvHero" style="margin-top:14px; padding:18px; overflow:hidden; position:relative">
      <div style="position:absolute; inset:-60px -80px auto auto; width:260px; height:260px; border-radius:60px;
           background: radial-gradient(circle at 30% 30%, rgba(255,210,74,.55), transparent 60%),
                      radial-gradient(circle at 70% 70%, rgba(255,59,74,.38), transparent 60%);
           filter: blur(6px); opacity:.75; pointer-events:none;"></div>

      <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
        <div class="krow" style="gap:10px">
          <div class="chip prem"><i></i> Checkout PIX</div>
          <div class="chip"><i style="background:var(--yellow)"></i> Verifica√ß√£o Order ID</div>
          <div class="chip"><i style="background:var(--red)"></i> Anti-golpe</div>
        </div>
        <div class="chip"><i></i> Entrega at√© <b>24h</b></div>
      </div>

      <h1 style="margin:14px 0 6px; font-size:30px; letter-spacing:.2px"><span data-i18n="heroTitle">ViralVault Store</span></h1>
      <p class="desc" style="max-width:760px; font-size:14px; opacity:.92">
        <span data-i18n="heroDesc">Loja digital com checkout via PIX e verifica√ß√£o por <b>Order ID</b>. Se n√£o for oficial, n√£o cai. Simples, r√°pido e com suporte no WhatsApp.</span>
      </p>
      <div class="currency" style="margin-top:10px; opacity:.85">Atalhos: <b>/</b> buscar ‚Ä¢ <b>g</b>+<b>k</b> cat√°logo ‚Ä¢ <b>g</b>+<b>c</b> checkout ‚Ä¢ <b>g</b>+<b>p</b> pedido</div>

      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:14px">
        <button class="totalBtn" type="button" id="vvHeroGoCat" style="justify-content:center">üõí Ver cat√°logo</button>
        <button class="totalBtn" type="button" id="vvHeroGoCheckout" style="justify-content:center">üßæ Ir pro checkout</button>
        <button class="totalBtn" type="button" id="vvHeroGoPedido" style="justify-content:center">üîé Ver pedido</button>
      </div>
    </div>


  <!-- ===== Sticky Mini Header ===== -->
  <div id="vvSticky" style="position:sticky; top:0; z-index:1500; margin:10px 0 0;">
    <div style="max-width:980px; margin:0 auto; padding:0 12px;">
      <div style="display:flex; gap:10px; align-items:center; justify-content:space-between;
           padding:10px 12px; border-radius:20px; border:1px solid rgba(255,255,255,.12);
           background:rgba(10,10,14,.68); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
           box-shadow:0 18px 44px rgba(0,0,0,.45);">
        <div style="display:flex; gap:10px; align-items:center; font-weight:900;">
          <div style="width:34px;height:34px;border-radius:14px;background:linear-gradient(135deg, rgba(255,210,74,1), rgba(255,59,74,1)); box-shadow:0 10px 18px rgba(0,0,0,.35)"></div>
          <span>ViralVault</span>
          <span style="opacity:.65; font-weight:800; font-size:12px">Store</span>
          <span class="chip" id="vvUptimeChip" style="display:inline-flex; align-items:center; gap:8px;"><i></i> Status: ‚Äî</span>
        </div>

        <div style="display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end">
          <a class="chip" href="#produtos" style="text-decoration:none"><i></i> Cat√°logo</a>
          <a class="chip" href="#checkout" style="text-decoration:none"><i style="background:var(--yellow)"></i> Checkout</a>
          <a class="chip" href="#status" style="text-decoration:none"><i style="background:var(--red)"></i> Pedido</a>
          <a class="chip" href="#faq" style="text-decoration:none"><i></i> FAQ</a>
          <button class="chip" id="vvThemeBtn" type="button" style="cursor:pointer"><i style="background:var(--yellow)"></i> Tema</button>
          <button class="chip" id="vvLangBtn" type="button" style="cursor:pointer"><i></i> PT</button>
          <button class="chip" id="vvSettingsBtn" type="button" style="cursor:pointer"><i></i> ‚öôÔ∏è</button>
          <button class="chip" id="vvCartBtn" type="button" style="cursor:pointer"><i></i> üõí <span id="vvCartCount">0</span></button>
        </div>

      <div class="card" id="vvHistoryCard" style="margin-top:12px; background:rgba(11,11,16,.25)">
        <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
          <b data-i18n="historyTitle">Hist√≥rico</b>
          <button class="chip" id="vvHistoryClear" type="button" style="cursor:pointer"><i style="background:var(--red)"></i> Limpar</button>
        </div>
        <div class="desc" id="vvHistoryList" style="margin-top:10px">‚Äî</div>
        <div class="currency" style="margin-top:8px" data-i18n="historyHint">Toque em um Order ID para verificar de novo.</div>
      </div>

      </div>
    </div>
  </div>
>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"><span>VV</span></div>
        <div class="btxt">
          <strong>ViralVault Store</strong>
          <small id="subtitle">loja digital ‚Ä¢ PIX ‚Ä¢ entrega em at√© 24h</small>
        </div>
      </div>

      <div class="actions">
        <div class="pill" title="Status do sistema">
          <div class="dot" id="liveDot"></div>
          <div style="display:flex;flex-direction:column;line-height:1.1">
            <b id="liveTxt">Ao vivo</b>
            <span id="apiTxt">conectando‚Ä¶</span>
          </div>
        </div>
        <button class="btn btnGhost" id="btnVerify" type="button">üîé Verificar</button>
        <button class="btn btnPrimary" id="btnAdmin" type="button">üõ°Ô∏è Admin</button>
      </div>
    </div>

    <div class="hero">
      <div class="heroCard">
        <div class="heroInner">
          <div class="badgeRow">
            <div class="tag"><i></i> Anti-golpe ‚Ä¢ Order ID verific√°vel</div>
            <div class="tag"><i style="background:var(--pink); box-shadow:0 0 0 6px rgba(255,79,163,.12)"></i> Checkout 1-clique (PIX)</div>
            <div class="tag"><i style="background:rgba(120,94,255,1); box-shadow:0 0 0 6px rgba(120,94,255,.12)"></i> 100% digital</div>
          </div>

          <h1>Compre r√°pido, pague via PIX e receba ‚ú®</h1>
          <p class="sub">
            Escolha um item, gere seu pedido e copie o PIX. Seu <b>Order ID</b> vira comprovante e voc√™ consegue
            verificar aqui mesmo se o pedido √© oficial.
          </p>

          <div class="heroCtas">
            <button class="btn btnPrimary" type="button" id="btnScroll">üõí Ver produtos</button>
            <button class="btn" type="button" id="btnHow">üìå Como funciona</button>
          </div>

          <div class="miniProof">
            <div class="stat"><b>Entrega em at√© 24h</b><span>ou reembolso (SLA)</span></div>
            <div class="stat"><b>PIX + QR</b><span>copia e cola f√°cil</span></div>
            <div class="stat"><b>Verifica√ß√£o</b><span>anti-fake: confere o Order ID</span></div>
          </div>
        </div>
      </div>

      <div class="sideCard">
        <h3>Verificar pedido (anti-fake)</h3>
        <p>Cole o <b>Order ID</b> (ex: <span style="color:var(--yellow)">vv_...</span>) e veja o status.</p>

        <div class="inputRow">
          <input class="inp" id="verifyInput" placeholder="Cole aqui seu Order ID (vv_...)" />
          <button class="btn btnPrimary" id="verifyGo" type="button">Verificar</button>
        </div>
        <div class="box" style="margin-top:12px">
          <div class="boxTitle"><b>Status</b><span id="verifySmall">‚Äî</span></div>
          <div id="verifyOut" class="small" style="margin-top:6px">Ainda n√£o consultado.</div>
        </div>

        <div class="notice">
          Dica: ap√≥s pagar, mande o comprovante + seu user do Roblox no WhatsApp (se voc√™ quiser agilizar).
        </div>
      </div>
    </div>

    
    <div class="sectionTitle" id="categorias" style="margin-top:14px">
      <h2>Categorias</h2>
      <small>encontre r√°pido o que voc√™ quer</small>
    </div>

    <div class="grid" id="catGrid">
      <div class="card" role="button" tabindex="0" data-cat="robux">
        <div class="krow">
          <div class="chip prem"><i></i> Robux</div>
          <div class="chip"><i style="background:var(--yellow)"></i> PIX</div>
        </div>
        <h3 class="title">Robux</h3>
        <p class="desc">Pacotes de Robux ‚Ä¢ entrega digital.</p>
        <div class="priceRow">
          <div><div class="currency">A partir de</div><div class="price">R$ 9,90</div></div>
          <button class="buy" type="button">Ver</button>
        </div>
      </div>

      <div class="card" role="button" tabindex="0" data-cat="contas">
        <div class="krow">
          <div class="chip"><i></i> Contas</div>
          <div class="chip"><i style="background:var(--yellow)"></i> Verificado</div>
        </div>
        <h3 class="title">Contas</h3>
        <p class="desc">Contas premium ‚Ä¢ ready-to-play.</p>
        <div class="priceRow">
          <div><div class="currency">Vitrine</div><div class="price">Top</div></div>
          <button class="buy" type="button">Ver</button>
        </div>
      </div>

      <div class="card" role="button" tabindex="0" data-cat="itens">
        <div class="krow">
          <div class="chip custom"><i></i> Itens</div>
          <div class="chip"><i style="background:var(--yellow)"></i> 24h</div>
        </div>
        <h3 class="title">Itens / Passes</h3>
        <p class="desc">Itens, passes e servi√ßos dentro do game.</p>
        <div class="priceRow">
          <div><div class="currency">Servi√ßos</div><div class="price">‚ö°</div></div>
          <button class="buy" type="button">Ver</button>
        </div>
      </div>
    </div>


    <div class="sectionTitle" id="produtos">
      <h2>Produtos digitais</h2>
      <small>escolha 1 item e pague via PIX</small>
    </div>


    <div class="card" id="vvFilters" style="margin-top:10px">
      <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
        <div class="krow" style="gap:8px; flex-wrap:wrap">
          <button class="chip" type="button" data-filter="all" id="vvFAll"><i></i> Todos</button>
          <button class="chip prem" type="button" data-filter="robux"><i></i> Robux</button>
          <button class="chip custom" type="button" data-filter="conta"><i></i> Contas</button>
          <button class="chip" type="button" data-filter="itens"><i></i> Itens</button>
          <button class="chip" type="button" data-filter="promo"><i style="background:var(--red)"></i> Promo</button>
          <button class="chip" type="button" data-filter="top"><i style="background:var(--yellow)"></i> Mais vendidos</button>
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; min-width:min(420px, 100%)">
          <input id="vvSearch" placeholder="Buscar produto..." autocomplete="off"
                 style="flex:1; padding:12px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.12);
                        background:rgba(11,11,16,.35); color:#fff; outline:none; font-weight:800;">
          <button class="totalBtn" id="vvClear" type="button" style="justify-content:center">Limpar</button>
        </div>
      </div>
      <div class="currency" id="vvCount" style="margin-top:10px">‚Äî</div>
    </div>


    <div class="grid" id="productsGrid"></div>

    <div class="sectionTitle" id="como">
      <h2>Como funciona üéÄ</h2>
      <small>super simples</small>
    </div>

    <div class="how">
      <div class="step"><div class="num">1</div><b>Escolha o item</b><span>Clique em <b>Comprar agora</b> e confirme o produto.</span></div>
      <div class="step"><div class="num">2</div><b>Pague via PIX</b><span>Gere o pedido ‚Üí copie o PIX (e QR se aparecer).</span></div>
      <div class="step"><div class="num">3</div><b>Receba em at√© 24h</b><span>Seu pedido fica com status: <b>criado ‚Üí pago ‚Üí entregue</b>.</span></div>
    </div>

    
    
    
    
    <!-- ===== STATUS PAGE (INLINE) ===== -->
    <div class="sectionTitle" id="status" style="margin-top:18px">
      <h2 data-i18n="statusTitle">Status do servi√ßo</h2>
      <small data-i18n="statusSubtitle">monitoramento simples (site, cat√°logo e pedidos)</small>
    </div>

    <div class="grid" style="grid-template-columns:repeat(3,minmax(0,1fr)); gap:12px">
      <div class="card" id="vvStatApi">
        <div class="krow"><div class="chip"><i></i> API</div></div>
        <h3 class="title" id="vvStatApiTitle">‚Äî</h3>
        <p class="desc" id="vvStatApiDesc">‚Äî</p>
      </div>
      <div class="card" id="vvStatCatalog">
        <div class="krow"><div class="chip prem"><i></i> Cat√°logo</div></div>
        <h3 class="title" id="vvStatCatalogTitle">‚Äî</h3>
        <p class="desc" id="vvStatCatalogDesc">‚Äî</p>
        <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap">
          <button class="totalBtn" id="vvRetryCatalog" type="button" style="justify-content:center">üîÑ Recarregar cat√°logo</button>
        </div>
      </div>
      <div class="card" id="vvStatOrders">
        <div class="krow"><div class="chip custom"><i></i> Pedidos</div></div>
        <h3 class="title" id="vvStatOrdersTitle">‚Äî</h3>
        <p class="desc" id="vvStatOrdersDesc">‚Äî</p>
      </div>
    </div>


<!-- ===== Trust / Provas ===== -->
    <div class="sectionTitle" id="provas" style="margin-top:18px">
      <h2>Por que a ViralVault?</h2>
      <small>confian√ßa + velocidade + anti-golpe</small>
    </div>

    <div class="grid" style="grid-template-columns:repeat(3, minmax(0,1fr)); gap:12px">
      <div class="card">
        <div class="krow"><div class="chip prem"><i></i> Entrega</div></div>
        <h3 class="title">R√°pido</h3>
        <p class="desc">Entrega digital em at√© 24h (muitas vezes em minutos).</p>
      </div>
      <div class="card">
        <div class="krow"><div class="chip"><i style="background:var(--red)"></i> Anti-golpe</div></div>
        <h3 class="title">Verifica√ß√£o por Order ID</h3>
        <p class="desc">Confirme no site se o pedido √© oficial. Se n√£o bateu, n√£o cai.</p>
      </div>
      <div class="card">
        <div class="krow"><div class="chip custom"><i></i> Suporte</div></div>
        <h3 class="title">WhatsApp</h3>
        <p class="desc">Suporte direto no WhatsApp pra d√∫vidas e comprovantes.</p>
      </div>
    </div>

    <!-- ===== Mini Depoimentos ===== -->
    <div class="sectionTitle" id="depoimentos" style="margin-top:18px">
      <h2>O que a galera fala</h2>
      <small>exemplos (voc√™ pode editar depois)</small>
    </div>

    <div class="grid" style="grid-template-columns:repeat(3, minmax(0,1fr)); gap:12px">
      <div class="card">
        <div class="badgeRow"><span class="badge"><span class="dot"></span> <b>5/5</b></span></div>
        <p class="desc">‚ÄúChegou r√°pido demais. Site brabo e o Order ID ajuda muito.‚Äù</p>
        <div class="currency">‚Äî Cliente</div>
      </div>
      <div class="card">
        <div class="badgeRow"><span class="badge"><span class="dot"></span> <b>5/5</b></span></div>
        <p class="desc">‚ÄúPaguei no PIX, mandei comprovante e j√° resolveram no WhatsApp.‚Äù</p>
        <div class="currency">‚Äî Cliente</div>
      </div>
      <div class="card">
        <div class="badgeRow"><span class="badge"><span class="dot"></span> <b>5/5</b></span></div>
        <p class="desc">‚ÄúCurti o visual e os filtros. D√° pra achar o produto f√°cil.‚Äù</p>
        <div class="currency">‚Äî Cliente</div>
      </div>
    </div>

    <!-- ===== FAQ ===== -->
    <div class="sectionTitle" id="faq" style="margin-top:18px">
      <h2>FAQ</h2>
      <small>perguntas r√°pidas</small>
    </div>

    <div class="card">
      <details style="border:1px solid rgba(255,255,255,.10); border-radius:16px; padding:12px; background:rgba(11,11,16,.25)">
        <summary style="cursor:pointer; font-weight:900;">Como comprar?</summary>
        <div class="desc" style="margin-top:8px; line-height:1.6">
          Escolha um item no cat√°logo ‚Üí clique em Comprar ‚Üí des√ßa pro Checkout ‚Üí gere o pedido + PIX ‚Üí pague ‚Üí envie o comprovante no WhatsApp.
        </div>
      </details>
      <div style="height:10px"></div>
      <details style="border:1px solid rgba(255,255,255,.10); border-radius:16px; padding:12px; background:rgba(11,11,16,.25)">
        <summary style="cursor:pointer; font-weight:900;">E se eu cair em golpe?</summary>
        <div class="desc" style="margin-top:8px; line-height:1.6">
          Use o verificador: cole o Order ID em ‚ÄúStatus do pedido‚Äù. Se n√£o aparecer como oficial, n√£o finalize.
        </div>
      </details>
      <div style="height:10px"></div>
      <details style="border:1px solid rgba(255,255,255,.10); border-radius:16px; padding:12px; background:rgba(11,11,16,.25)">
        <summary style="cursor:pointer; font-weight:900;">Qual o prazo?</summary>
        <div class="desc" style="margin-top:8px; line-height:1.6">
          At√© 24h. Em hor√°rios de pico pode demorar mais, mas o suporte acompanha.
        </div>
      </details>
    </div>


<!-- ===== CHECKOUT (INLINE) ===== -->
    <div class="sectionTitle" id="checkout" style="margin-top:18px">
      <h2>Checkout (PIX)</h2>
      <small>gerar pedido, copiar PIX e enviar comprovante</small>
    </div>

    <div class="grid" style="grid-template-columns:1.1fr .9fr">
      <div class="card">
        <div class="krow">
          <div class="chip prem"><i></i> PIX</div>
          <div class="chip"><i style="background:var(--red)"></i> Anti-golpe</div>
        </div>
        <h3 class="title" id="vvCkName">Selecione um produto</h3>
        <p class="desc" id="vvCkDesc">Clique em ‚ÄúComprar‚Äù em algum item do cat√°logo pra carregar aqui.</p>

        <div style="display:flex; justify-content:space-between; align-items:flex-end; gap:10px; margin-top:10px">
          <div>
            <div class="currency">Total</div>
            <div class="price" id="vvCkPrice">‚Äî</div>
          </div>
          <div class="currency">Entrega: <b>at√© 24h</b></div>
        </div>

        
        <div id="vvResumo" style="margin-top:12px; padding:12px; border-radius:18px; border:1px solid rgba(255,255,255,.10); background:rgba(11,11,16,.22)">
          <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
            <div class="currency">Resumo do pedido</div>
            <div class="chip" id="vvValidChip"><i></i> preencha o user</div>
          </div>
          <div class="desc" style="margin-top:8px; line-height:1.55">
            Produto: <b id="vvResumoProd">‚Äî</b><br>
            User: <b id="vvResumoUser">‚Äî</b><br>
            Total: <b id="vvResumoTotal">‚Äî</b>
          </div>

            <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between">
              <div class="currency">Quantidade</div>
              <div style="display:flex; gap:10px; align-items:center">
                <button class="totalBtn" id="vvQtyMinus" type="button" style="justify-content:center; width:46px; padding:10px 0">‚àí</button>
                <div id="vvQty" style="min-width:44px; text-align:center; font-weight:1000; padding:10px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(11,11,16,.35)">1</div>
                <button class="totalBtn" id="vvQtyPlus" type="button" style="justify-content:center; width:46px; padding:10px 0">+</button>
              </div>
              <div class="currency" style="opacity:.85">Obs: acima de 1, fa√ßa pedidos separados.</div>
            </div>

            <div style="margin-top:10px; display:grid; gap:10px">
              <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
                <div class="currency">Entrega</div>
                <div class="chip"><i style="background:var(--yellow)"></i> Digital ‚Ä¢ R$ <b id="vvShip">0,00</b></div>
              </div>

              <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
                <div class="currency">Cupom</div>
                <div style="display:flex; gap:10px; flex-wrap:wrap; width:min(520px,100%)">
                  <input id="vvCoupon" placeholder="EX: VV10" autocomplete="off"
                         style="flex:1; padding:12px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.12);
                                background:rgba(11,11,16,.35); color:#fff; outline:none; font-weight:900; text-transform:uppercase;">
                  <button class="totalBtn" id="vvApplyCoupon" type="button" style="justify-content:center">Aplicar</button>
                </div>
              </div>

              <div class="currency" id="vvCouponMsg" style="opacity:.9">‚Äî</div>
            </div>


        </div>


        <div style="margin-top:12px">
          <div class="currency" style="margin-bottom:6px">Seu user do Roblox (obrigat√≥rio)</div>
          <input id="vvCkUser" class="input" placeholder="Ex: Darlan0786" autocomplete="off"
                 style="width:100%; padding:12px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(11,11,16,.35); color:#fff; outline:none; font-weight:800;">
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px">
          <button class="totalBtn" id="vvBtnCreate" style="flex:1; justify-content:center; opacity:.6" disabled>Gerar pedido + PIX</button>
          <button class="totalBtn" id="vvBtnWpp" style="flex:1; justify-content:center; opacity:.6" disabled>Enviar comprovante no WhatsApp</button>
        </div>

        <div class="currency" id="vvCkStatus" style="margin-top:10px">‚Äî</div>

        <div id="vvProgressWrap" style="display:none; margin-top:12px">
          <div class="currency">Progresso do pedido</div>
          <div style="margin-top:8px; height:10px; border-radius:999px; background:rgba(255,255,255,.10); overflow:hidden">
            <div id="vvProgressBar" style="height:100%; width:33%; background:linear-gradient(90deg, rgba(255,210,74,1), rgba(255,59,74,1)); border-radius:999px"></div>
          </div>
          <div class="desc" id="vvProgressText" style="margin-top:8px">üßæ criado</div>
        </div>

      </div>

      <div class="card">
        <h3 class="title" style="margin-bottom:6px">PIX Copia e Cola</h3>
        <p class="desc">Depois de gerar o pedido, copie o PIX e pague no seu banco.</p>

        <div class="currency" style="margin-top:10px">Order ID</div>
        <div class="input mono" id="vvOrderIdBox" style="padding:12px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(11,11,16,.35); font-weight:900; word-break:break-all;">‚Äî</div>

        <div class="currency" style="margin-top:10px">PIX (copia e cola)</div>
        <textarea id="vvPixBox" class="mono" readonly
          style="width:100%; min-height:120px; padding:12px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(11,11,16,.35); color:#fff; outline:none; font-weight:900; resize:vertical;"
          placeholder="Vai aparecer aqui..."></textarea>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
          <button class="totalBtn" id="vvCopyPix" style="flex:1; justify-content:center; opacity:.6" disabled>Copiar PIX</button>
          <button class="totalBtn" id="vvCopyOrder" style="flex:1; justify-content:center; opacity:.6" disabled>Copiar Order ID</button>
        </div>
      </div>
    </div>



    <!-- ===== STATUS DO PEDIDO (INLINE) ===== -->
    <div class="sectionTitle" id="pedido" style="margin-top:18px">
      <h2>Status do pedido (Order ID)</h2>
      <small>verifique se √© oficial e veja o andamento</small>
    </div>

    <div class="card">
      <div class="krow">
        <div class="chip"><i></i> Verifica√ß√£o</div>
        <div class="chip"><i style="background:var(--yellow)"></i> Oficial</div>
      </div>

      <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; align-items:center">
        <input id="vvCheckOrderId" class="input mono" placeholder="Cole o Order ID aqui"
               style="flex:1; padding:12px 12px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(11,11,16,.35); color:#fff; outline:none; font-weight:900;">
        <button class="totalBtn" id="vvBtnCheck" style="justify-content:center">Verificar</button>
      </div>

      <div class="currency" id="vvCheckOut" style="margin-top:10px">‚Äî</div>

      <div id="vvTimeline" style="display:none; margin-top:12px; display:grid; gap:10px;">
        <div class="card" style="background:rgba(11,11,16,.25)">
          <b>Timeline</b>
          <div class="desc" style="margin-top:6px">
            <span id="vvT1">üßæ Criado</span> ‚Üí <span id="vvT2">‚úÖ Pago</span> ‚Üí <span id="vvT3">üì¶ Entregue</span>
          </div>
        </div>
        <div class="card" style="background:rgba(11,11,16,.25)">
          <b>Detalhes</b>
          <div class="desc" style="margin-top:6px; line-height:1.5">
            Status: <b id="vvKStatus">‚Äî</b><br>
            Produto: <b id="vvKProd">‚Äî</b><br>
            User: <b id="vvKUser">‚Äî</b>
          </div>
        </div>
      </div>
    </div>


<div class="footerArea" id="sobre">
      <div class="footerGrid">
        <div>
          <h4>Sobre</h4>
          <p>
            A ViralVault √© uma loja 100% digital focada em entrega r√°pida. Aqui voc√™ compra,
            paga via PIX e consegue <b>verificar o pedido pelo Order ID</b>.
          </p>
          <div class="contactLine">üì© <span id="emailSupport">suporte@viralvault.store</span></div>
          <div class="contactLine">üìç <span>S√£o Paulo, SP ‚Äî Brasil</span></div>
        </div>
        <div>
          <h4>Links r√°pidos</h4>
          <div class="flinks">
            <a href="#categorias">Categorias</a>
            <a href="#produtos">Cat√°logo</a>
            <a href="#como">Como funciona</a>
            <a href="#sobre">Contato</a>
          </div>
        </div>
        <div>
          <h4>Suporte</h4>
          <div class="flinks">
            <a href="#como">FAQ (como comprar)</a>
            <a href="javascript:void(0)" data-legal="refund">Pol√≠tica de Reembolso</a>
            <a href="javascript:void(0)" data-legal="terms">Termos</a>
            <a href="javascript:void(0)" data-legal="privacy">Privacidade</a>
          </div>
          <div class="socials">
            <div class="socialBtn" title="Instagram" aria-label="Instagram">üì∑</div>
            <div class="socialBtn" title="Discord" aria-label="Discord">üí¨</div>
          </div>
        </div>
      </div>
      <div class="footer" style="margin-top:14px">¬© <span id="year"></span> ViralVault Store ‚Ä¢ Loja 100% digital ‚Ä¢ SP</div>
    </div>

  </div>

  <!-- Sticky bottom bar -->
  <div class="bottomBar">
    <div class="bottomInner">
      <span>‚úÖ Dica: sempre verifique o Order ID aqui no site pra evitar golpe.</span>
      <button class="btn btnPrimary" type="button" id="btnStickyBuy">‚ö° Comprar agora</button>
    </div>
  </div>

  <!-- Checkout Modal -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Checkout PIX">
      <div class="modalHead">
        <b>Checkout (PIX) ‚Äî ultra simples</b>
        <button class="x" id="closeModal" type="button">‚úï</button>
      </div>
      <div class="modalBody">
        <div class="row">
          <div class="box">
            <div class="boxTitle"><b id="mProd">Produto</b><span id="mPrice">R$ ‚Äî</span></div>
            <div class="small" id="mDesc">‚Äî</div>
          </div>

          <div class="box">
            <div class="boxTitle"><b>Seu usu√°rio do Roblox</b><span>obrigat√≥rio</span></div>
            <input class="inp" id="mUser" placeholder="Ex: xDEADx786" />
            <div class="small">Sem user, n√£o d√° pra entregar. üòâ</div>
          </div>
        </div>

        <button class="ctaBig" id="genPix" type="button">Gerar pedido + PIX</button>

        <div class="box" style="margin-top:12px">
          <div class="boxTitle"><b>Order ID</b><span id="mStatus">‚Äî</span></div>
          <div class="small" id="mOrderId">‚Äî</div>
        </div>

        <div class="box">
          <div class="boxTitle"><b>PIX copia e cola</b><span>cole no app do banco</span></div>
          <textarea class="mono" id="mPix" placeholder="O PIX vai aparecer aqui‚Ä¶" readonly></textarea>
          <div class="miniBtns">
            <button class="mini" id="copyPix" type="button">Copiar PIX</button>
            <button class="mini" id="copyId" type="button">Copiar ID</button>
            <button class="mini" id="openVerify" type="button">Verificar pedido</button>
          </div>
          <div class="small" id="mHint">Depois de pagar, guarde o Order ID.</div>
        </div>

        <div class="notice">
          Aten√ß√£o: esse checkout cria um pedido no sistema. O pagamento √© via PIX ‚Äúcopia e cola‚Äù.
          Se o PIX n√£o aparecer, √© configura√ß√£o do Worker (vari√°vel <b>PIX_COPIA_COLA</b>).
        </div>
      </div>
    </div>
  </div>

  <!-- Support AI -->
  <div class="float">
        <button class="fab zap" id="btnZap" type="button">üí¨ WhatsApp</button>
<div class="chat" id="chat">
      <div class="chatHead">
        <div>
          <b>Suporte IA</b>
          <small>responde sobre produtos, prazos, pedido e PIX (sem besteira)</small>
        </div>
        <button class="x" id="closeChat" type="button">‚úï</button>
      </div>
      <div class="chatBody" id="chatBody"></div>
      <div class="chatFoot">
        <input class="inp" id="chatIn" placeholder="Pergunte algo (ex: como verificar meu pedido?)" />
        <button class="btn btnPrimary send" id="chatSend" type="button">Enviar</button>
      </div>
    </div>
    <button class="fab" id="fab" type="button">ü§ñ Suporte IA</button>
  </div>

  <div class="toast" id="toast">Copiado ‚úÖ</div>

  <script>
    // ====== CONFIG ======
    // Seu Worker (API)
    const API_BASE = "https://viralvault-sign.darlanana06.workers.dev";

    // WhatsApp (opcional) ‚Äî coloque seu n√∫mero com DDI/DDD se quiser abrir conversa
    const WHATSAPP_NUMBER = "5511941598713";

    // ====== HELPERS ======
    const $ = (id)=>document.getElementById(id);
    const toast = (msg)=>{ const t=$('toast'); t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 1400); };

    function brl(v){
      const n = Number(v);
      if (!Number.isFinite(n)) return "R$ --";
      return n.toLocaleString('pt-BR', { style:'currency', currency:'BRL' });
    }

    async function api(path, opts={}){
      const res = await fetch(API_BASE + path, {
        ...opts,
        headers: {
          'content-type':'application/json',
          ...(opts.headers||{})
        }
      });
      const text = await res.text();
      let data = {};
      try{ data = JSON.parse(text||"{}"); }catch{ data = { ok:false, error:"Resposta inv√°lida", raw:text }; }
      if(!res.ok && data && data.ok !== true){
        // mant√©m erro
      }
      return data;
    }


    function vvMarkCatalog(ok, ms, err){
      window.__vvCatalogState = { ok: !!ok, lastMs: ms || null, err: err || null };
      const t = ok ? "Online" : "Falha";
      const d = ok ? `Carregado em ${ms}ms` : (err || "N√£o foi poss√≠vel carregar");
      const ttl = ok ? `‚úÖ Cat√°logo ${t}` : `‚ö†Ô∏è Cat√°logo ${t}`;
      const desc = ok ? d : d;
      try{
        const cT = document.getElementById("vvStatCatalogTitle");
        const cD = document.getElementById("vvStatCatalogDesc");
        const card = document.getElementById("vvStatCatalog");
        if(cT) cT.textContent = ttl;
        if(cD) cD.textContent = desc;
        if(card) card.style.borderColor = ok ? "rgba(62,240,143,.24)" : "rgba(255,59,74,.22)";
      }catch(e){}
    }

    function safeCopy(text){
      if(!text) return false;
      if(navigator.clipboard && navigator.clipboard.writeText){
        return navigator.clipboard.writeText(text).then(()=>true).catch(()=>false);
      }
      const ta = document.createElement('textarea');
      ta.value = text;
      ta.style.position='fixed';
      ta.style.left='-9999px';
      document.body.appendChild(ta);
      ta.focus(); ta.select();
      try{ document.execCommand('copy'); document.body.removeChild(ta); return true; }catch(e){ document.body.removeChild(ta); return false; }
    }

    // ====== PRODUCTS RENDER ======
    let PRODUCTS = [];
    let currentProduct = null;

    function chipClass(p){
      const name = (p.name||'').toLowerCase();
      if(name.includes('ultra') || name.includes('premium')) return 'prem';
      if(name.includes('custom') || name.includes('personal')) return 'custom';
      return '';
    }

    function chipLabel(p){
      const n=(p.name||'').toLowerCase();
      if(n.includes('ultra')) return {t:'Premium', cls:'prem'};
      if(n.includes('plus') || n.includes('pro')) return {t:'Popular', cls:''};
      if(n.includes('personal') || n.includes('custom')) return {t:'Custom', cls:'custom'};
      return {t:'Digital', cls:''};
    }

    
    function inferTags(p){
      const name = String(p.name||p.id||"").toLowerCase();
      const desc = String(p.description||"").toLowerCase();
      const s = name + " " + desc;

      const tags = new Set();
      if(/robux|rbx|roupa|roupas|gamepass/.test(s)) tags.add("robux");
      if(/conta|account|premium|lvl|level|rare/.test(s)) tags.add("conta");
      if(/item|itens|pass|passe|service|servi√ßo|boost|farm/.test(s)) tags.add("itens");
      if(/promo|sale|desconto|off|black/.test(s) || (Number(p.price||0) > 0 && Number(p.price||0) < 10)) tags.add("promo");

      return Array.from(tags);
    }

    function isTop(p){
      // heur√≠stica simples: produtos mais baratos + com "robux" costumam vender mais (ajuste depois)
      const tags = inferTags(p);
      const price = Number(p.price||0);
      return tags.includes("robux") || price <= 19.9;
    }

    function moneyBR(v){
      const n = Number(v||0);
      return n.toLocaleString("pt-BR", {minimumFractionDigits:2, maximumFractionDigits:2});
    }

    function renderProducts(){
      const grid = document.getElementById("productsGrid");
      if(!grid) return;

      const q = (window.__vvSearch||"").toLowerCase().trim();
      const f = window.__vvFilter || "all";

      let items = (window.__products||[]).slice();

      // sort: "top" primeiro se filtro top, sen√£o mant√©m
      if(f==="top"){
        items.sort((a,b)=> (isTop(b)?1:0) - (isTop(a)?1:0));
      }

      // filter
      items = items.filter(p=>{
        const tags = inferTags(p);
        const text = (String(p.name||"") + " " + String(p.description||"") + " " + String(p.id||"")).toLowerCase();

        const okSearch = !q || text.includes(q);
        if(!okSearch) return false;

        if(f==="all") return true;
        if(f==="top") return isTop(p);
        if(f==="robux") return tags.includes("robux");
        if(f==="conta") return tags.includes("conta");
        if(f==="itens") return tags.includes("itens");
        if(f==="promo") return tags.includes("promo");
        return true;
      });

      const countEl = document.getElementById("vvCount");
      if(countEl) countEl.textContent = `${items.length} produto(s) encontrado(s)`;

      if(!items.length){
        grid.innerHTML = `<div class="card"><h3 class="title">Nada aqui üòï</h3><p class="desc">Tenta mudar o filtro ou limpar a busca.</p><div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap"><button class="totalBtn" id="vvCatalogRetry" type="button" style="justify-content:center">üîÑ Recarregar cat√°logo</button></div></div>`;
        setTimeout(()=>{ document.getElementById("vvCatalogRetry")?.addEventListener("click", ()=>window.__vvReloadCatalog && window.__vvReloadCatalog()); }, 0);
        return;
      }

      grid.innerHTML = items.map(p=>{
        const tags = inferTags(p);
        const top = isTop(p);
        const price = Number(p.price||0);

        const badges = [];
        if(top) badges.push(`<span class="badge"><span class="dot"></span> <b>Mais vendido</b></span>`);
        if(tags.includes("promo")) badges.push(`<span class="badge red"><span class="dot"></span> <b>Promo</b></span>`);
        badges.push(`<span class="badge green"><span class="dot"></span> <b>Entrega</b> at√© 24h</span>`);

        const catLabel =
          tags.includes("robux") ? "Robux" :
          tags.includes("conta") ? "Conta" :
          tags.includes("itens") ? "Itens" : "Digital";

        return `
          <div class="card">
            <div class="pMedia" aria-hidden="true"></div>
            <div class="badgeRow">${badges.join("")}</div>
            <div class="krow">
              <div class="chip ${catLabel==="Robux" ? "prem" : (catLabel==="Conta" ? "custom" : "")}"><i></i> ${catLabel}</div>
              <div class="chip"><i style="background:var(--yellow)"></i> PIX</div>
            </div>
            <h3 class="title">${escapeHtml(p.name || p.id || "Produto")}</h3>
            <p class="desc">${escapeHtml(p.description || "Produto digital.")}</p>
            <div class="priceRow">
              <div>
                <div class="currency">Pre√ßo</div>
                <div class="price">R$ ${moneyBR(price)}</div>
              </div>
              <button class="buy" type="button" data-buy="1" data-payload='${encodeJson(p)}'>Comprar</button>
            </div>
          </div>
        `;
      }).join("");
    }
);
    }

    
    function encodeJson(obj){
      // Safe stringify for inline onclick
      return JSON.stringify(obj).replace(/</g,"\\u003c").replace(/>/g,"\\u003e");
    }

    function escapeHtml(s){
      return String(s||'').replace(/[&<>"]/g, (m)=>({ '&':'&amp;', '<':'&lt;', '>':'&gt;', '"':'&quot;' }[m]));
    }

    // ====== CHECKOUT ======
    function openCheckout(p){
      // Seleciona produto e joga pro checkout inline
      window.__vvSelected = p;
      try{ populateInlineCheckout(p); updateResumo(); }catch(e){}
      document.getElementById("checkout")?.scrollIntoView({behavior:"smooth"});
    }

    function closeCheckout(){
      $('overlay').classList.remove('show');
      $('overlay').setAttribute('aria-hidden','true');
    }

    $('closeModal').addEventListener('click', closeCheckout);
    $('overlay').addEventListener('click', (e)=>{ if(e.target === $('overlay')) closeCheckout(); });

    $('genPix').addEventListener('click', async ()=>{
      if(!currentProduct) return;
      const user = ($('mUser').value || '').trim();
      if(!user){
        $('mStatus').textContent = '‚ö†Ô∏è user obrigat√≥rio';
        toast('Coloque seu user do Roblox');
        return;
      }

      $('genPix').disabled = true;
      $('genPix').textContent = 'Gerando‚Ä¶';
      $('mStatus').textContent = 'criando pedido‚Ä¶';

      try{
        const data = await api('/create-order', {
          method:'POST',
          body: JSON.stringify({ productId: currentProduct.id, user })
        });

        if(!data || data.ok !== true){
          $('mStatus').textContent = '‚ùå erro';
          $('mHint').textContent = (data && (data.error || data.detail)) ? (data.error || data.detail) : 'Falha ao criar pedido.';
          return;
        }

        const orderId = data.orderId || (data.order && data.order.orderId) || '';
        const pix = (data.pixCopiaECola || '').trim();

        $('mOrderId').textContent = orderId || '‚Äî';
        $('mStatus').textContent = '‚úÖ pedido criado';

        if(!pix){
          $('mPix').value = '';
          $('mHint').textContent = 'Pedido criado, mas o PIX n√£o veio. Confira a vari√°vel PIX_COPIA_COLA no Worker.';
        }else{
          $('mPix').value = pix;
          $('mHint').textContent = 'Agora cole o PIX no app do banco e pague.';
        }

      }catch(err){
        $('mStatus').textContent = '‚ùå erro';
        $('mHint').textContent = String(err && err.message ? err.message : err);
      }finally{
        $('genPix').disabled = false;
        $('genPix').textContent = 'Gerar pedido + PIX';
      }
    });

    $('copyPix').addEventListener('click', async ()=>{
      const v = $('mPix').value.trim();
      const ok = await safeCopy(v);
      toast(ok ? 'PIX copiado ‚úÖ' : 'N√£o deu pra copiar');
    });

    $('copyId').addEventListener('click', async ()=>{
      const v = ($('mOrderId').textContent || '').trim();
      const ok = await safeCopy(v);
      toast(ok ? 'ID copiado ‚úÖ' : 'N√£o deu pra copiar');
    });

    $('openVerify').addEventListener('click', ()=>{
      const v = ($('mOrderId').textContent || '').trim();
      closeCheckout();
      if(v && v.startsWith('vv_')){
        $('verifyInput').value = v;
        doVerify();
        window.scrollTo({ top: 0, behavior:'smooth' });
      }
    });

    // ====== VERIFY ======
    async function doVerify(){
      const orderId = ($('verifyInput').value || '').trim();
      if(!orderId){ $('verifyOut').textContent = 'Cole o Order ID.'; return; }
      $('verifySmall').textContent = 'consultando‚Ä¶';
      $('verifyOut').textContent = 'Aguenta a√≠‚Ä¶';
      try{
        const data = await api('/order-status?orderId=' + encodeURIComponent(orderId));
        if(!data || data.ok !== true){
          $('verifySmall').textContent = '‚ùå';
          $('verifyOut').textContent = (data && data.error) ? data.error : 'Pedido n√£o encontrado.';
          return;
        }
        const o = data.order || {};
        const st = String(o.status||'').toLowerCase();
        let label = st;
        if(st==='created') label = 'üßæ criado';
        if(st==='paid') label = '‚úÖ pago';
        if(st==='delivered') label = 'üì¶ entregue';
        $('verifySmall').textContent = label;
        $('verifyOut').textContent = `Produto: ${o.productName || o.productId || '-'}\nUser: ${o.user || '-'}\nStatus: ${label}\nOrder ID: ${o.orderId || orderId}`;
      }catch(err){
        $('verifySmall').textContent = '‚ùå';
        $('verifyOut').textContent = 'Erro: ' + String(err && err.message ? err.message : err);
      }
    }

    $('verifyGo').addEventListener('click', doVerify);
    $('btnVerify').addEventListener('click', ()=>{ $('verifyInput').focus(); window.scrollTo({top:0, behavior:'smooth'}); });

    // ====== Admin (no site, via token) ======
    const adminModal = $('adminModal');
    const LS_TOKEN_KEY = 'vv_admin_token';

    function openAdmin(){ adminModal.classList.add('show'); adminModal.setAttribute('aria-hidden','false'); }
    function closeAdmin(){ adminModal.classList.remove('show'); adminModal.setAttribute('aria-hidden','true'); }

    function getAdminToken(){ return (localStorage.getItem(LS_TOKEN_KEY)||'').trim(); }
    function setAdminToken(v){ localStorage.setItem(LS_TOKEN_KEY, (v||'').trim()); }

    function adminHeaders(){
      const t = getAdminToken();
      return t ? { 'x-admin-secret': t } : {};
    }

    function setAdminUi(ok){
      $('adminStatus').textContent = ok ? 'üîì token ok (salvo)' : 'üîí n√£o conectado';
      $('adminStatus').style.opacity = ok ? 1 : .7;
    }

    async function adminApi(path, opts={}){
      const headers = Object.assign({ 'Content-Type':'application/json' }, adminHeaders(), (opts.headers||{}));
      const res = await fetch(API_BASE + path, Object.assign({}, opts, { headers }));
      const data = await res.json().catch(()=> ({}));
      if(!res.ok || data.ok===false){
        const msg = (data && (data.error||data.detail)) ? (data.error||data.detail) : ('HTTP '+res.status);
        throw new Error(msg);
      }
      return data;
    }

    let adminCurrent = null;

    $('btnAdmin').addEventListener('click', ()=>{
      $('adminToken').value = getAdminToken();
      setAdminUi(Boolean(getAdminToken()));
      $('adminOut').textContent = 'Cole um Order ID e toque em ‚ÄúBuscar pedido‚Äù.';
      $('adminPaid').disabled = true;
      $('adminDelivered').disabled = true;
      adminCurrent = null;
      openAdmin();
    });

    $('adminClose').addEventListener('click', closeAdmin);
    adminModal.addEventListener('click', (e)=>{ if(e.target===adminModal) closeAdmin(); });

    $('adminSave').addEventListener('click', ()=>{
      setAdminToken($('adminToken').value);
      setAdminUi(Boolean(getAdminToken()));
      toast('Token salvo ‚úÖ');
    });

    $('adminClear').addEventListener('click', ()=>{
      setAdminToken('');
      $('adminToken').value='';
      setAdminUi(false);
      $('adminOut').textContent='Token limpo.';
      $('adminPaid').disabled = true;
      $('adminDelivered').disabled = true;
      adminCurrent = null;
    });

    $('adminFetch').addEventListener('click', async ()=>{
      const orderId = ($('adminOrderId').value||'').trim();
      if(!orderId){ $('adminOut').textContent='Cola o Order ID (vv_...).'; return; }
      try{
        $('adminOut').textContent='Buscando‚Ä¶';
        const data = await adminApi('/admin/order?orderId=' + encodeURIComponent(orderId), { method:'GET' });
        adminCurrent = data.order || null;
        $('adminOut').textContent = JSON.stringify(adminCurrent, null, 2);
        $('adminPaid').disabled = !adminCurrent;
        $('adminDelivered').disabled = !adminCurrent;
        toast('Pedido carregado ‚úÖ');
      }catch(err){
        $('adminOut').textContent = 'Erro: ' + String(err && err.message ? err.message : err);
        $('adminPaid').disabled = true;
        $('adminDelivered').disabled = true;
        adminCurrent = null;
      }
    });

    $('adminPaid').addEventListener('click', async ()=>{
      const orderId = ($('adminOrderId').value||'').trim();
      if(!orderId) return;
      try{
        $('adminOut').textContent='Marcando como pago‚Ä¶';
        const data = await adminApi('/admin/mark-paid', { method:'POST', body: JSON.stringify({ orderId }) });
        adminCurrent = data.order || null;
        $('adminOut').textContent = JSON.stringify(adminCurrent, null, 2);
        toast('Marcado como PAGO ‚úÖ');
      }catch(err){
        $('adminOut').textContent = 'Erro: ' + String(err && err.message ? err.message : err);
      }
    });

    $('adminDelivered').addEventListener('click', async ()=>{
      const orderId = ($('adminOrderId').value||'').trim();
      if(!orderId) return;
      try{
        $('adminOut').textContent='Marcando como entregue‚Ä¶';
        const data = await adminApi('/admin/mark-delivered', { method:'POST', body: JSON.stringify({ orderId }) });
        adminCurrent = data.order || null;
        $('adminOut').textContent = JSON.stringify(adminCurrent, null, 2);
        toast('Marcado como ENTREGUE üì¶');
      }catch(err){
        $('adminOut').textContent = 'Erro: ' + String(err && err.message ? err.message : err);
      }
    });

    // ====== Scroll buttons ======
    $('btnScroll').addEventListener('click', ()=>document.getElementById('produtos').scrollIntoView({behavior:'smooth'}));
    $('btnHow').addEventListener('click', ()=>document.getElementById('como').scrollIntoView({behavior:'smooth'}));
    $('btnStickyBuy').addEventListener('click', ()=>{
      if(PRODUCTS[0]) openCheckout(PRODUCTS[0]);
      else document.getElementById('produtos').scrollIntoView({behavior:'smooth'});
    });

    // ====== Support AI (local + filtro) ======
    const chat = $('chat');
    const chatBody = $('chatBody');

    function addMsg(text, who='ai'){
      const d = document.createElement('div');
      d.className = 'm ' + (who==='me'?'me':'ai');
      d.textContent = text;
      chatBody.appendChild(d);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function isNonsense(q){
      const t = q.toLowerCase();
      const bad = [
        'porn','sexo','nude','nudes','pelado','pelada','xvideos','hentai','put','bucet','pinto','rola','piroca','caralho',
        'maconha','coca','crack','metanf','droga','arma','pistola','glock','matar','suicid'
      ];
      return bad.some(w=>t.includes(w));
    }

    function answer(q){
      const t = q.toLowerCase();
      if(isNonsense(q)){
        return 'Consigo ajudar com: produtos, PIX, verifica√ß√£o e status do pedido. Bora focar nisso üòâ';
      }
      if(t.includes('pix')){
        return 'PIX: clique em Comprar ‚Üí Gere pedido + PIX ‚Üí copie e cole no app do banco. Se o PIX n√£o aparecer, √© no Worker: vari√°vel PIX_COPIA_COLA.';
      }
      if(t.includes('verific') || t.includes('id') || t.includes('order')){
        return 'Pra verificar: cole seu Order ID (vv_...) na √°rea ‚ÄúVerificar pedido‚Äù e toque em Verificar. Ele mostra o status (criado/pago/entregue).';
      }
      if(t.includes('prazo') || t.includes('entrega') || t.includes('24')){
        return 'Entrega normalmente em at√© 24h. Se precisar agilizar, manda o comprovante + seu user do Roblox no WhatsApp.';
      }
      if(t.includes('reembolso')){
        return 'Se passar do prazo combinado, voc√™ pode pedir reembolso. O ideal √© falar no WhatsApp com o Order ID e o comprovante.';
      }
      if(t.includes('produto') || t.includes('qual') || t.includes('diferen')){
        return 'Os produtos ficam listados na home com pre√ßo. Se voc√™ me disser qual item (Basic/Plus/Custom), eu explico a diferen√ßa rapidinho.';
      }
      return 'Posso ajudar com: como comprar, PIX, status do pedido, verifica√ß√£o e prazos. O que voc√™ quer saber?';
    }

    $('fab').addEventListener('click', ()=>{
      chat.classList.toggle('show');
      document.body.classList.toggle('chatOpen', chat.classList.contains('show'));
      updateBottomOffset();
      if(chat.classList.contains('show') && chatBody.childElementCount===0){
        addMsg('Oi! Sou o Suporte IA da ViralVault. Quer ajuda com PIX, pedido ou verifica√ß√£o?');
      }
    });
    $('closeChat').addEventListener('click', ()=>{ chat.classList.remove('show'); document.body.classList.remove('chatOpen'); updateBottomOffset(); });

    async function sendChat(){
      const q = ($('chatIn').value||'').trim();
      if(!q) return;
      $('chatIn').value='';
      addMsg(q,'me');
      // resposta local (r√°pida)
      addMsg(answer(q),'ai');

      // atalho WhatsApp se usu√°rio pedir
      if(q.toLowerCase().includes('whatsapp') || q.toLowerCase().includes('suporte')){
        const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent('Oi! Preciso de suporte. Meu Order ID √©: ')}`;
        addMsg('Se quiser, toque aqui pra abrir o WhatsApp: '+url,'ai');
      }
    }

    $('chatSend').addEventListener('click', sendChat);
    $('chatIn').addEventListener('keydown', (e)=>{ if(e.key==='Enter') sendChat(); });


    // ====== Layout: evita bot√µes grudados ======
    function updateBottomOffset(){
      const bb = document.querySelector('.bottomBar');
      const h = (bb && bb.offsetHeight) ? bb.offsetHeight : 0;
      document.documentElement.style.setProperty('--bb', h + 'px');
    }
    window.addEventListener('resize', updateBottomOffset);
    updateBottomOffset();

    // ====== Init ======
    $('year').textContent = new Date().getFullYear();

    (async ()=>{
      // Ping home
      try{
        const home = await api('/');
        if(home && home.ok){
          $('apiTxt').textContent = 'API ok';
          $('liveTxt').textContent = 'Ao vivo';
          $('liveDot').style.background = 'var(--green)';
          const oa = home.origin_allowed || '‚Äî';
          $('subtitle').textContent = `loja digital ‚Ä¢ PIX ‚Ä¢ origem: ${oa.replace('https://','')}`;
        }else{
          $('apiTxt').textContent = 'API com erro';
          $('liveTxt').textContent = 'Inst√°vel';
          $('liveDot').style.background = 'var(--yellow)';
        }
      }catch{
        $('apiTxt').textContent = 'API offline';
        $('liveTxt').textContent = 'Offline';
        $('liveDot').style.background = 'var(--yellow)';
      }

      // Skeleton enquanto carrega
      try{
        const g = document.getElementById('productsGrid');
        if(g){
          g.innerHTML = Array.from({length:6}).map(()=>`<div class="card skeleton" style="min-height:168px"></div>`).join('');
        }
      }catch{}

      // Load catalog
      try{
        showSkeleton();
      const t0 = performance.now();
      const cat = await api('/catalog');
        if(cat && cat.ok && Array.isArray(cat.products)){
          PRODUCTS = cat.products;
        }
      }catch{}

      if(!PRODUCTS.length){
        PRODUCTS = [
          { id:'brainrot_basic', name:'Brainrot Pack (B√°sico)', price:9.9, description:'Entrega 100% digital ‚Ä¢ em at√© 24h' },
          { id:'brainrot_pro', name:'Brainrot Pack (Plus)', price:19.9, description:'Itens premium ‚Ä¢ entrega em at√© 24h' },
          { id:'custom_roblox', name:'Entrega Personalizada (Roblox)', price:29.9, description:'Voc√™ escolhe o que precisa ‚Ä¢ 24h' },
        ];
      }


    // ====== Categorias (atalhos) ======
    function hookCategories(){
      const cat = document.getElementById('catGrid');
      if(!cat) return;
      cat.querySelectorAll('[data-cat]').forEach(el=>{
        const go = ()=>document.getElementById('produtos').scrollIntoView({behavior:'smooth'});
        el.addEventListener('click', go);
        el.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') go(); });
        const btn = el.querySelector('.buy');
        if(btn) btn.addEventListener('click', (e)=>{ e.stopPropagation(); go(); });
      });
    }

      hookCategories();
      
      // ===== Filters/Search =====
      window.__vvFilter = "all";
      window.__vvSearch = "";
      const fwrap = document.getElementById("vvFilters");
      if(fwrap){
        fwrap.querySelectorAll("[data-filter]").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            window.__vvFilter = btn.getAttribute("data-filter") || "all";
            fwrap.querySelectorAll("[data-filter]").forEach(b=>b.classList.remove("prem"));
            // mark active
            btn.classList.add("prem");
            renderProducts();

      // Delegation: comprar sem inline onclick (mais seguro)
      document.getElementById("productsGrid")?.addEventListener("click", (e)=>{
        const btn = e.target.closest("button.buy[data-buy]");
        if(!btn) return;
        try{
          const p = JSON.parse(btn.getAttribute("data-payload")||"{}");
          openCheckout(p);
        }catch{}
      });

          });
        });
      }
      const s = document.getElementById("vvSearch");
      if(s){
        let __vvSearchT;
        s.addEventListener("input", ()=>{
          window.__vvSearch = s.value || "";
          clearTimeout(__vvSearchT);
          __vvSearchT = setTimeout(()=>renderProducts(), 90);
        });
      }
      document.getElementById("vvClear")?.addEventListener("click", ()=>{
        window.__vvSearch = "";
        if(s) s.value = "";
        window.__vvFilter = "all";
        // reset active btn
        document.getElementById("vvFAll")?.classList.add("prem");
        renderProducts();
      });

      renderProducts();
      // Inline checkout hooks
      document.getElementById('vvBtnCreate')?.addEventListener('click', createOrderInline);
      document.getElementById('vvCkUser')?.addEventListener('input', updateResumo);
      updateResumo();
      document.getElementById('vvBtnCheck')?.addEventListener('click', checkOrderInline);
      document.getElementById('vvCopyPix')?.addEventListener('click', async ()=>{
        const v = (document.getElementById('vvPixBox')?.value||'').trim();
        if(v){ const ok = await copyText(v); document.getElementById('vvCkStatus').textContent = ok ? '‚úÖ PIX copiado!' : '‚ùå n√£o deu pra copiar.'; }
      });
      document.getElementById('vvCopyOrder')?.addEventListener('click', async ()=>{
        const v = (document.getElementById('vvOrderIdBox')?.textContent||'').trim();
        if(v && v!=='‚Äî'){ const ok = await copyText(v); document.getElementById('vvCkStatus').textContent = ok ? '‚úÖ Order ID copiado!' : '‚ùå n√£o deu pra copiar.'; }
      });
    })();
  (function(){


// ===== WhatsApp (Suporte) =====
/* (legacy) */
// WHATSAPP_NUMBER j√° definido no topo do script
function openZap(){
  const msg = encodeURIComponent("Oi! Vim pelo ViralVault Store. Preciso de suporte com meu pedido.");
  const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`;
  // iOS/Android: usar location.href funciona melhor que window.open
  window.location.href = url;
}
const btnZap = document.getElementById('btnZap');
if(btnZap) btnZap.addEventListener('click', openZap);

// ===== Admin Modal =====
const _adminModal2 = document.getElementById("adminModal");
const adminClose = document.getElementById('adminClose');
const adminToken = document.getElementById('adminToken');
const adminOrderId = document.getElementById('adminOrderId');
const adminOut = document.getElementById('adminOut');
const adminFetch = document.getElementById('adminFetch');
const adminPaid = document.getElementById('adminPaid');
const adminDelivered = document.getElementById('adminDelivered');

function showAdmin(open=true){
  if(!_adminModal2) return;
  _adminModal2.classList.toggle('show', open);
  _adminModal2.setAttribute('aria-hidden', open? 'false':'true');
  if(open){
    const saved = localStorage.getItem('VV_ADMIN_TOKEN') || '';
    if(adminToken && !adminToken.value) adminToken.value = saved;
    setTimeout(()=>adminOrderId?.focus(), 50);
  }
}

if(adminClose) adminClose.addEventListener('click', ()=>showAdmin(false));
if(_adminModal2) _adminModal2.addEventListener('click', (e)=>{ if(e.target===adminModal) showAdmin(false); });

// substitui o comportamento antigo do bot√£o Admin
if(btnAdmin){
  btnAdmin.addEventListener('click', ()=>showAdmin(true));
}

async function adminCall(path, method, body){
  const token = (adminToken?.value || '').trim();
  if(!token){ toast('Cole o token do Admin primeiro.'); return null; }
  localStorage.setItem('VV_ADMIN_TOKEN', token);

  const res = await fetch(API_BASE + path, {
    method,
    headers: {
      'content-type': 'application/json',
      'x-admin-secret': token
    },
    body: body? JSON.stringify(body): undefined
  });
  const text = await res.text();
  let data;
  try{ data = JSON.parse(text); } catch { data = {raw:text}; }
  return { ok: res.ok, status: res.status, data };
}

function printAdmin(result){
  if(!adminOut) return;
  adminOut.textContent = JSON.stringify(result, null, 2);
}

if(adminFetch) adminFetch.addEventListener('click', async ()=>{
  const id = (adminOrderId?.value || '').trim();
  if(!id){ toast('Cola o Order ID.'); return; }
  const r = await adminCall(`/admin/order?orderId=${encodeURIComponent(id)}`, 'GET');
  if(r) printAdmin(r);
});

if(adminPaid) adminPaid.addEventListener('click', async ()=>{
  const id = (adminOrderId?.value || '').trim();
  if(!id){ toast('Cola o Order ID.'); return; }
  const r = await adminCall('/admin/mark-paid', 'POST', {orderId:id});
  if(r) printAdmin(r);
});

if(adminDelivered) adminDelivered.addEventListener('click', async ()=>{
  const id = (adminOrderId?.value || '').trim();
  if(!id){ toast('Cola o Order ID.'); return; }
  const r = await adminCall('/admin/mark-delivered', 'POST', {orderId:id});
  if(r) printAdmin(r);
});


// ===== Health Check + Theme (Infinity Upgrade) =====
(function(){
  const API_BASE = "https://viralvault-sign.darlanana06.workers.dev";

  function setTheme(mode){
    const root = document.documentElement;
    if(mode === "light") root.setAttribute("data-theme","light");
    else root.removeAttribute("data-theme");
    try{ localStorage.setItem("vv_theme", mode); }catch(e){}
  }
  function initTheme(){
    let saved = "";
    try{ saved = localStorage.getItem("vv_theme")||""; }catch(e){}
    if(saved==="light" || saved==="dark"){
      setTheme(saved);
      return;
    }
    // auto from system
    try{
      const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
      if(prefersLight) setTheme("light");
    }catch(e){}
  }

  function toast(msg){
    const t = document.getElementById("vvToast");
    if(!t) return;
    t.textContent = msg;
    t.style.display = "block";
    clearTimeout(window.__vvToastT);
    window.__vvToastT = setTimeout(()=>{ t.style.display="none"; }, 2200);
  }

  function banner(show, text){
    const b = document.getElementById("vvBanner");
    const t = document.getElementById("vvBannerText");
    if(!b || !t) return;
    if(show){
      t.textContent = text || "Servi√ßo inst√°vel. Tente novamente.";
      b.style.display = "block";
    } else {
      b.style.display = "none";
    }
  }

  async function ping(){
    // timeout 3.5s
    const ctrl = new AbortController();
    const to = setTimeout(()=>ctrl.abort(), 3500);
    try{
      const res = await fetch(API_BASE + "/health", {signal: ctrl.signal});
      clearTimeout(to);
      if(!res.ok) return false;
      const data = await res.json().catch(()=>({}));
      return data && data.ok === true;
    }catch(e){
      clearTimeout(to);
      return false;
    }
  }

  async function refreshHealth(){
    const ok = await ping();
    window.__vvApiOk = !!ok;
    banner(!ok, "Servi√ßo inst√°vel. Checkout pode falhar ‚Äî tente novamente em alguns minutos.");
    // if we have the checkout button, disable when down
    const btn = document.getElementById("vvBtnCreate");
    if(btn){
      const can = !btn.disabled; // keep validation logic, but if down force off
      if(!ok){
        btn.disabled = true;
        btn.style.opacity = ".6";
      } else {
        // let validation drive it
        try{ updateResumo(); }catch(e){}
      }
    }
    if(!ok) toast("API inst√°vel ‚ö†Ô∏è");
  }

  // theme toggles
  function toggleTheme(){
    const isLight = document.documentElement.getAttribute("data-theme")==="light";
    setTheme(isLight ? "dark" : "light");
    toast(isLight ? "Tema: escuro" : "Tema: claro");
  }

  document.getElementById("vvThemeBtn")?.addEventListener("click", toggleTheme);
  document.getElementById("vvFabTheme")?.addEventListener("click", toggleTheme);
  document.getElementById("vvBannerRetry")?.addEventListener("click", refreshHealth);

  initTheme();
  // run now + every 45s
  refreshHealth();
  setInterval(refreshHealth, 45000);
})();

</script>

  <!-- ===== Admin Panel (token no site) ===== -->
  <div class="modal" id="adminModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" aria-label="Painel Admin">
      <div class="sheetHead">
        <div>
          <div class="sheetTitle">üõ°Ô∏è Painel Admin</div>
          <div class="sheetSub">Acesso por token ‚Ä¢ marca pedido como <b>pago</b> / <b>entregue</b></div>
        </div>
        <button class="iconBtn" id="adminClose" type="button" aria-label="Fechar">‚úï</button>
      </div>

      <div class="sheetBody" style="gap:12px">
        <div class="field">
          <label class="lbl">Token Admin (x-admin-secret)</label>
          <input class="inp" id="adminToken" placeholder="cole seu VV_ADMIN_SECRET aqui" autocomplete="off" />
          <div class="hint">Fica salvo s√≥ no seu navegador (localStorage). N√£o aparece pros clientes.</div>
        </div>

        <div class="row" style="gap:10px; flex-wrap:wrap">
          <button class="btn btnGhost" id="adminSave" type="button">Salvar token</button>
          <button class="btn btnGhost" id="adminClear" type="button">Limpar</button>
          <span class="pill" id="adminStatus">üîí n√£o conectado</span>
        </div>

        <div class="field">
          <label class="lbl">Order ID</label>
          <input class="inp" id="adminOrderId" placeholder="vv_..." />
          <div class="hint">Dica: pe√ßa pro cliente te mandar o Order ID + comprovante.</div>
        </div>

        <div class="row" style="gap:10px; flex-wrap:wrap">
          <button class="btn btnPrimary" id="adminFetch" type="button">Buscar pedido</button>
          <button class="btn" id="adminPaid" type="button" disabled>‚úÖ Marcar pago</button>
          <button class="btn" id="adminDelivered" type="button" disabled>üì¶ Marcar entregue</button>
        </div>

        <pre class="code" id="adminOut" style="min-height:120px">Cole um Order ID e toque em ‚ÄúBuscar pedido‚Äù.</pre>
      </div>
    </div>
  </div>


  <!-- ===== Floating Quick Actions ===== -->
  <div id="vvFab" style="position:fixed; left:50%; transform:translateX(-50%); bottom:14px; z-index:1400;
       width:min(980px, calc(100% - 24px)); padding:10px;
       border-radius:22px; border:1px solid rgba(255,255,255,.12);
       background:rgba(10,10,14,.70); backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
       box-shadow:0 18px 50px rgba(0,0,0,.55);">
    <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;">
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <button id="vvGoCheckout" class="totalBtn" style="justify-content:center">üßæ Checkout</button>
        <button id="vvGoPedido" class="totalBtn" style="justify-content:center">üîé Ver Pedido</button>
      </div>
      <button id="vvGoWpp" class="totalBtn" style="justify-content:center; background:linear-gradient(180deg, rgba(62,240,143,1), rgba(42,204,110,1)); color:#08110c;">
        üí¨ WhatsApp
      </button>
      <button id="vvFabTheme" class="totalBtn" type="button" style="justify-content:center">üåì Tema</button>
      <button id="vvFabSettings" class="totalBtn" type="button" style="justify-content:center">‚öôÔ∏è Ajustes</button>
      <button id="vvFabCart" class="totalBtn" type="button" style="justify-content:center">üõí Carrinho</button>
    </div>
  </div>


  <div id="vvToast" style="position:fixed; left:50%; transform:translateX(-50%); bottom:80px; z-index:1600;
       background:rgba(18,18,26,.92); border:1px solid rgba(255,255,255,.12); padding:10px 12px; border-radius:16px;
       box-shadow:0 18px 50px rgba(0,0,0,.55); display:none; max-width:min(720px, calc(100% - 24px));"></div>

  
  <!-- ===== Settings Modal ===== -->
  <div id="vvSettings" aria-hidden="true" role="dialog" aria-modal="true"
       style="position:fixed; inset:0; z-index:1950; display:none; align-items:center; justify-content:center; padding:14px;">
    <div id="vvSettingsBackdrop" style="position:absolute; inset:0; background:rgba(0,0,0,.55)"></div>
    <div class="card" style="position:relative; max-width:760px; width:100%; max-height:80vh; overflow:auto">
      <div class="krow" style="justify-content:space-between; gap:10px; align-items:center">
        <h3 class="title" style="margin:0">Ajustes</h3>
        <button class="totalBtn" type="button" id="vvSettingsClose" style="justify-content:center">Fechar</button>
      </div>

      <div class="grid" style="grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; margin-top:12px">
        <div class="card" style="background:rgba(11,11,16,.22)">
          <b>Tema</b>
          <div class="desc" style="margin-top:6px">Escolha escuro/claro.</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
            <button class="totalBtn" id="vvSetDark" type="button" style="justify-content:center">üåë Escuro</button>
            <button class="totalBtn" id="vvSetLight" type="button" style="justify-content:center">üåï Claro</button>
          </div>
        </div>

        <div class="card" style="background:rgba(11,11,16,.22)">
          <b>Idioma</b>
          <div class="desc" style="margin-top:6px">Portugu√™s / English</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
            <button class="totalBtn" id="vvSetPT" type="button" style="justify-content:center">üáßüá∑ PT</button>
            <button class="totalBtn" id="vvSetEN" type="button" style="justify-content:center">üá∫üá∏ EN</button>
          </div>
        </div>

        <div class="card" style="background:rgba(11,11,16,.22)">
          <b>Performance</b>
          <div class="desc" style="margin-top:6px">Reduzir anima√ß√µes (mais leve no celular).</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
            <button class="totalBtn" id="vvReduceMotionOn" type="button" style="justify-content:center">‚úÖ Reduzir</button>
            <button class="totalBtn" id="vvReduceMotionOff" type="button" style="justify-content:center">‚ú® Normal</button>
          </div>
        </div>

        <div class="card" style="background:rgba(11,11,16,.22)">
          <b>Privacidade</b>
          <div class="desc" style="margin-top:6px">Limpar dados locais (tema, idioma, hist√≥rico).</div>
          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:10px">
            <button class="totalBtn" id="vvClearLocal" type="button" style="justify-content:center">üßπ Limpar</button>
          </div>
        </div>
      </div>

      <div class="desc" style="margin-top:12px; line-height:1.7">
        Dica: se o site estiver lento, ative <b>Reduzir anima√ß√µes</b>. Isso melhora em aparelhos fracos.
      </div>
    </div>
  </div>


<!-- ===== Legal Modal ===== -->
  <div id="vvLegal" aria-hidden="true" role="dialog" aria-modal="true"
       style="position:fixed; inset:0; z-index:1900; display:none; align-items:center; justify-content:center; padding:14px;">
    <div id="vvLegalBackdrop" style="position:absolute; inset:0; background:rgba(0,0,0,.55)"></div>
    <div class="card" style="position:relative; max-width:860px; width:100%; max-height:80vh; overflow:auto">
      <div class="krow" style="justify-content:space-between; gap:10px; align-items:center">
        <h3 class="title" style="margin:0" id="vvLegalTitle">Pol√≠ticas</h3>
        <button class="totalBtn" type="button" id="vvLegalClose" style="justify-content:center">Fechar</button>
      </div>
      <div class="desc" id="vvLegalBody" style="margin-top:10px; line-height:1.7">
        <!-- conte√∫do din√¢mico -->
      </div>
    </div>
  </div>


<script>
/* ===== ViralVault: Functional Patch (no bugs) ===== */
(function(){
  // helpers
  const $id = (id)=>document.getElementById(id);
  const toast = (msg)=>{
    const t = $id("vvToast");
    if(!t) return;
    t.textContent = msg;
    t.style.display = "block";
    clearTimeout(window.__vvToastT);
    window.__vvToastT = setTimeout(()=>{ t.style.display="none"; }, 2200);
  };

  // Use existing moneyBR if available
  const moneyBR = window.moneyBR || function(v){
    const n = Number(v||0);
    return n.toLocaleString("pt-BR", {minimumFractionDigits:2, maximumFractionDigits:2});
  };

  // API: reuse existing api() if present; else fallback to API_BASE if present.
  const api = window.api || (async function(path, opts={}){
    const base = window.API_BASE || "https://viralvault-sign.darlanana06.workers.dev";
    const res = await fetch(base + path, {
      method: opts.method || "GET",
      headers: {
        "content-type":"application/json",
        ...(opts.headers||{})
      },
      body: opts.body
    });
    const text = await res.text();
    try{ return JSON.parse(text); }catch{ return { ok:false, error:text || ("HTTP "+res.status) }; }
  });

  // ===== Checkout inline =====
  window.populateInlineCheckout = function(p){
    if(!p) return;
    window.__vvSelected = p;
    $id("vvCkName") && ($id("vvCkName").textContent = p.name || p.title || "Produto");
    $id("vvCkDesc") && ($id("vvCkDesc").textContent = p.description || p.desc || "‚Äî");
    $id("vvCkPrice") && ($id("vvCkPrice").textContent = "R$ " + moneyBR(p.price || 0));
  };

  async function createOrderInline(){
    const p = window.__vvSelected;
    const user = (($id("vvCkUser")?.value)||"").trim();
    const qty = window.__vvQty || 1;

    if(!p){ $id("vvCkStatus").textContent="‚ö†Ô∏è Selecione um produto."; toast("Selecione um produto"); return; }
    if(!user){ $id("vvCkStatus").textContent="‚ö†Ô∏è user do Roblox √© obrigat√≥rio."; toast("Coloque seu user do Roblox"); return; }
    if(qty !== 1){ $id("vvCkStatus").textContent="‚ÑπÔ∏è Quantidade > 1: fa√ßa pedidos separados (1 por vez)."; toast("Quantidade > 1: fa√ßa pedidos separados"); return; }

    const btn = $id("vvBtnCreate");
    if(btn){ btn.disabled = true; btn.style.opacity = ".65"; btn.textContent = "Gerando‚Ä¶"; }

    $id("vvCkStatus").textContent = "criando pedido‚Ä¶";

    try{
      const data = await api("/create-order", {
        method:"POST",
        body: JSON.stringify({ productId: p.id, user })
      });

      if(!data || data.ok !== true){
        $id("vvCkStatus").textContent = "‚ùå erro";
        toast("Falha ao criar pedido");
        return;
      }

      const orderId = data.orderId || (data.order && data.order.orderId) || "";
      const pix = String(data.pixCopiaECola || "").trim();

      if($id("vvOrderIdBox")) $id("vvOrderIdBox").textContent = orderId || "‚Äî";
      if($id("vvPixBox")) $id("vvPixBox").value = pix || "";
      if($id("vvCkStatus")) $id("vvCkStatus").innerHTML = orderId ? ("‚úÖ pedido criado. Order ID: <b>"+orderId+"</b>") : "‚úÖ pedido criado.";

      // auto-fill checker + persist
      if($id("vvCheckOrderId")) $id("vvCheckOrderId").value = orderId || $id("vvCheckOrderId").value;
      try{ localStorage.setItem("vv_last_orderId", orderId); }catch(e){}
      if(pix) toast("PIX gerado ‚úÖ"); else toast("Pedido criado ‚úÖ");
    }catch(e){
      $id("vvCkStatus").textContent = "‚ùå erro";
      toast("Erro no checkout");
    }finally{
      if(btn){ btn.disabled = false; btn.style.opacity = "1"; btn.textContent = "Gerar pedido + PIX"; }
      try{ if(window.updateResumo) window.updateResumo(); }catch(e){}
    }
  }

  async function checkOrderInline(){
    const oid = (($id("vvCheckOrderId")?.value)||"").trim();
    if(!oid){ toast("Cole o Order ID"); return; }

    const btn = $id("vvBtnCheck");
    if(btn){ btn.disabled = true; btn.style.opacity = ".65"; btn.textContent = "Consultando‚Ä¶"; }

    try{
      const data = await api("/order-status?orderId=" + encodeURIComponent(oid));
      if(!data || data.ok !== true){
        toast("Pedido n√£o encontrado");
        if($id("vvTimeline")) $id("vvTimeline").style.display = "none";
        return;
      }
      const o = data.order || {};
      const st = String(o.status || "").toLowerCase();

      if($id("vvTimeline")) $id("vvTimeline").style.display = "grid";
      if($id("vvKStatus")) $id("vvKStatus").textContent = st || "‚Äî";
      if($id("vvKProd")) $id("vvKProd").textContent = o.productName || o.productId || "‚Äî";
      if($id("vvKUser")) $id("vvKUser").textContent = o.user || "‚Äî";

      // timeline highlight
      const t1=$id("vvT1"), t2=$id("vvT2"), t3=$id("vvT3");
      const on = (el, yes)=>{ if(!el) return; el.style.opacity = yes ? "1" : ".55"; };
      on(t1, st==="created" || st==="paid" || st==="delivered");
      on(t2, st==="paid" || st==="delivered");
      on(t3, st==="delivered");

      toast(st==="delivered" ? "Entregue üì¶" : st==="paid" ? "Pago ‚úÖ" : "Criado üßæ");

      // history hook if present
      try{ window.__vvPushHistory && window.__vvPushHistory(oid); }catch(e){}
    }catch(e){
      toast("Erro ao verificar");
    }finally{
      if(btn){ btn.disabled = false; btn.style.opacity = "1"; btn.textContent = "Verificar"; }
    }
  }

  // bind buttons
  $id("vvBtnCreate")?.addEventListener("click", createOrderInline);
  $id("vvBtnCheck")?.addEventListener("click", checkOrderInline);

  // restore last order id
  try{
    const saved = localStorage.getItem("vv_last_orderId") || "";
    if(saved && $id("vvCheckOrderId") && !$id("vvCheckOrderId").value) $id("vvCheckOrderId").value = saved;
  }catch(e){}
})();
</script>


<script>
/* ===== ViralVault Catalog from Worker (with fallback) ===== */
(function(){
  const API_BASE = "https://viralvault-sign.darlanana06.workers.dev";
  const fallback = [{"id": "robux-80", "name": "80 Robux", "description": "Entrega digital. Envio r√°pido.", "price": 9.9}, {"id": "robux-400", "name": "400 Robux", "description": "Entrega digital. Envio r√°pido.", "price": 39.9}, {"id": "conta-premium", "name": "Conta Premium", "description": "Conta com benef√≠cios. Consulte o suporte.", "price": 59.9}, {"id": "itens-pack", "name": "Pack de Itens", "description": "Pacote de itens digitais. Consulte disponibilidade.", "price": 29.9}];

  async function fetchCatalog(){
    const ctrl = new AbortController();
    const to = setTimeout(()=>ctrl.abort(), 4500);
    try{
      const res = await fetch(API_BASE + "/catalog", {signal: ctrl.signal, headers:{"accept":"application/json"}});
      clearTimeout(to);
      if(!res.ok) throw new Error("HTTP " + res.status);
      const data = await res.json();
      if(data && data.ok && Array.isArray(data.products)) return data.products;
      if(Array.isArray(data)) return data;
      throw new Error("Formato inv√°lido");
    }catch(e){
      clearTimeout(to);
      return null;
    }
  }

  // Hook into existing site: set window.__products then render
  window.__vvLoadCatalog = async function(){
    try{
      if(typeof showSkeleton === "function") showSkeleton();
    }catch(e){}
    const t0 = performance.now();
    const products = await fetchCatalog();
    if(products && products.length){
      window.__products = window.__products || products;
      try{ if(typeof vvMarkCatalog === "function") vvMarkCatalog(true, Math.round(performance.now()-t0)); }catch(e){}
    } else {
      window.__products = fallback;
      try{ if(window.__vvSetNotice) window.__vvSetNotice(true, "Cat√°logo em modo fallback (offline). Alguns itens podem estar desatualizados."); }catch(e){}
      try{ if(typeof vvMarkCatalog === "function") vvMarkCatalog(false, Math.round(performance.now()-t0), "Usando cat√°logo local (fallback)"); }catch(e){}
      try{ if(typeof vvToast === "function") vvToast("Cat√°logo do Worker indispon√≠vel ‚Äî usando fallback"); }catch(e){}
    }
    try{ if(typeof renderProducts === "function") renderProducts(); }catch(e){}
  };

  // Auto load on ready
  document.addEventListener("DOMContentLoaded", ()=>{
    window.__vvLoadCatalog();
  });
})();
</script>

// ===== Notice: Catalog fallback banner =====
(function(){
  const n = document.getElementById("vvNotice");
  const t = document.getElementById("vvNoticeText");
  const r = document.getElementById("vvNoticeRetry");
  if(!n || !t || !r) return;

  window.__vvSetNotice = function(on, msg){
    if(on){
      if(msg) t.textContent = msg;
      n.style.display = "block";
    } else {
      n.style.display = "none";
    }
  };

  r.addEventListener("click", ()=>{
    try{
      window.__vvLoadCatalog && window.__vvLoadCatalog();
    }catch(e){}
  });
})();



  <!-- ===== Bottom Nav (mobile) ===== -->
  <div id="vvBottomNav" aria-label="Navega√ß√£o r√°pida">
    <div class="bar">
      <a class="tab" href="#produtos"><span>üõí</span><small>Cat√°logo</small></a>
      <a class="tab" href="#checkout"><span>üßæ</span><small>Checkout</small></a>
      <a class="tab" href="#pedido"><span>üîé</span><small>Pedido</small></a>
      <a class="tab" href="#faq"><span>‚ùì</span><small>FAQ</small></a>
    </div>
  </div>


  <!-- ===== Product Modal ===== -->
  <div id="vvPModal" role="dialog" aria-modal="true" aria-hidden="true">
    <div id="vvPBackdrop"></div>
    <div class="card" id="vvPPanel">
      <div class="krow" style="justify-content:space-between; align-items:center; gap:10px">
        <div class="krow" style="gap:10px; flex-wrap:wrap">
          <span class="pill"><span style="width:10px;height:10px;border-radius:50%;background:var(--yellow)"></span> <span id="vvPTag">Digital</span></span>
          <span class="pill"><span style="width:10px;height:10px;border-radius:50%;background:rgba(62,240,143,1)"></span> Entrega at√© 24h</span>
        </div>
        <button class="totalBtn btnGhost" id="vvPClose" type="button" style="justify-content:center">Fechar</button>
      </div>

      <div class="pGrid" style="margin-top:12px">
        <div>
          <div class="pBigMedia" aria-hidden="true"></div>
          <div class="desc" style="margin-top:10px; line-height:1.7">
            <b>Garantia anti-golpe:</b> confirme o Order ID no verificador antes de pagar.
          </div>
        </div>

        <div>
          <h2 style="margin:0 0 6px; font-size:22px" id="vvPName">‚Äî</h2>
          <div class="muted" id="vvPDesc" style="line-height:1.7">‚Äî</div>

          <div class="card" style="margin-top:12px; background:rgba(11,11,16,.20)">
            <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
              <div>
                <div class="currency">Pre√ßo</div>
                <div style="font-size:26px; font-weight:1000" id="vvPPrice">‚Äî</div>
              </div>
              <button class="totalBtn btnPrimary" id="vvPBuy" type="button" style="justify-content:center">Comprar agora</button>
            </div>
            <div class="desc" style="margin-top:10px">
              Ao comprar, voc√™ ser√° levado ao checkout com o item selecionado.
            </div>
          </div>

          <div class="grid" style="grid-template-columns:1fr; gap:10px; margin-top:12px">
            <div class="card" style="background:rgba(11,11,16,.18)">
              <b>Suporte</b>
              <div class="desc" style="margin-top:6px">Envie comprovante pelo WhatsApp quando gerar o PIX.</div>
            </div>
            <div class="card" style="background:rgba(11,11,16,.18)">
              <b>Checklist r√°pido</b>
              <div class="desc" style="margin-top:6px; line-height:1.6">
                1) Selecione o produto ‚úÖ<br>
                2) Informe seu user ‚úÖ<br>
                3) Gere pedido + PIX ‚úÖ<br>
                4) Pague e envie comprovante ‚úÖ
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


<script>
/* ===== Global-grade interactions ===== */
(function(){
  const $id = (id)=>document.getElementById(id);

  function moneyBR(v){
    try{ return window.moneyBR ? window.moneyBR(v) : (Number(v||0)).toLocaleString("pt-BR",{minimumFractionDigits:2, maximumFractionDigits:2}); }
    catch(e){ return String(v); }
  }

  // WhatsApp helper (global)
  window.__vvWhatsAppNumber = "5511941598713";
  window.__vvOpenWpp = function(msg){
    const n = window.__vvWhatsAppNumber;
    const url = "https://wa.me/" + n + "?text=" + encodeURIComponent(msg||"Ol√°! Preciso de suporte na ViralVault.");
    window.open(url, "_blank", "noopener");
  };

  // Product modal logic
  const modal = $id("vvPModal");
  const closeBtn = $id("vvPClose");
  const back = $id("vvPBackdrop");
  const buyBtn = $id("vvPBuy");
  const tag = $id("vvPTag");
  const nameEl = $id("vvPName");
  const descEl = $id("vvPDesc");
  const priceEl = $id("vvPPrice");

  let lastFocus = null;
  let current = null;

  function inferTag(p){
    const s = (String(p.name||"")+" "+String(p.description||"")+" "+String(p.id||"")).toLowerCase();
    if(/robux|rbx/.test(s)) return "Robux";
    if(/conta|account|premium/.test(s)) return "Conta";
    if(/item|itens|pass|passe/.test(s)) return "Itens";
    return "Digital";
  }

  function openModal(p){
    if(!modal) return;
    current = p;
    lastFocus = document.activeElement;
    if(tag) tag.textContent = inferTag(p);
    if(nameEl) nameEl.textContent = p.name || p.id || "Produto";
    if(descEl) descEl.textContent = p.description || "Produto digital.";
    if(priceEl) priceEl.textContent = "R$ " + moneyBR(p.price||0);

    modal.style.display = "flex";
    modal.setAttribute("aria-hidden","false");
    if(closeBtn) closeBtn.focus();
  }

  function closeModal(){
    if(!modal) return;
    modal.style.display = "none";
    modal.setAttribute("aria-hidden","true");
    if(lastFocus && lastFocus.focus) lastFocus.focus();
  }

  if(closeBtn) closeBtn.addEventListener("click", closeModal);
  if(back) back.addEventListener("click", closeModal);
  document.addEventListener("keydown", (e)=>{
    if(modal && modal.getAttribute("aria-hidden")==="false" && e.key==="Escape") closeModal();
  });

  if(buyBtn) buyBtn.addEventListener("click", ()=>{
    if(!current) return;
    try{
      if(window.populateInlineCheckout) window.populateInlineCheckout(current);
      if(window.updateResumo) window.updateResumo();
      closeModal();
      const ck = document.getElementById("checkout");
      if(ck) ck.scrollIntoView({behavior:"smooth"});
    }catch(e){}
  });

  // Open modal when clicking a product card (except on buy button)
  document.addEventListener("click", (e)=>{
    const forbidden = e.target.closest("button.buy, #vvPBuy, #vvBtnCreate, #vvBtnCheck, #vvBtnWpp, #vvThemeBtn, #vvLangBtn, #vvSettingsBtn, #vvRetryCatalog, #vvCatalogRetry");
    if(forbidden) return;

    const card = e.target.closest("#productsGrid .card");
    if(!card) return;

    const btn = card.querySelector("button.buy[data-payload]");
    if(!btn) return;
    try{
      const p = JSON.parse(btn.getAttribute("data-payload")||"{}");
      if(p && (p.id || p.name)) openModal(p);
    }catch(err){}
  });

  // Improve WhatsApp message
  const wppBtn = $id("vvBtnWpp");
  if(wppBtn){
    wppBtn.addEventListener("click", (e)=>{
      try{
        const oid = (($id("vvOrderIdBox")?.textContent)||"").trim();
        const p = window.__vvSelected || {};
        const user = (($id("vvCkUser")?.value)||"").trim();
        const msg = [
          "Ol√°! Vim pelo site ViralVault.",
          oid ? ("Order ID: " + oid) : "",
          (p && (p.name||p.id)) ? ("Produto: " + (p.name||p.id)) : "",
          user ? ("User: " + user) : "",
          "Segue comprovante:"
        ].filter(Boolean).join("\n");
        window.__vvOpenWpp(msg);
        e.preventDefault();
      }catch(err){}
    }, true);
  }
})();
</script>


  <!-- ===== Mini Cart Drawer ===== -->
  <div id="vvCart" aria-hidden="true" role="dialog" aria-modal="true"
       style="position:fixed; inset:0; z-index:2100; display:none;">
    <div id="vvCartBackdrop" style="position:absolute; inset:0; background:rgba(0,0,0,.55)"></div>
    <div class="card" id="vvCartPanel"
         style="position:absolute; right:12px; top:12px; bottom:12px; width:min(520px, calc(100% - 24px)); overflow:auto">
      <div class="krow" style="justify-content:space-between; align-items:center; gap:10px">
        <h3 class="title" style="margin:0">Carrinho</h3>
        <button class="totalBtn btnGhost" id="vvCartClose" type="button" style="justify-content:center">Fechar</button>
      </div>

      <div class="desc" style="margin-top:6px; line-height:1.6">
        O checkout √© <b>1 pedido por vez</b>. Se quiser comprar mais de 1 item, fa√ßa pedidos separados.
      </div>

      <div id="vvCartList" style="margin-top:12px">‚Äî</div>

      <div class="card" style="margin-top:12px; background:rgba(11,11,16,.20)">
        <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
          <div>
            <div class="currency">Subtotal</div>
            <div style="font-size:22px; font-weight:1000" id="vvCartSubtotal">R$ 0,00</div>
          </div>
          <button class="totalBtn btnPrimary" id="vvCartGoCheckout" type="button" style="justify-content:center">Ir pro checkout</button>
        </div>
      </div>

      <div class="desc" style="margin-top:12px; line-height:1.6">
        üîí <b>Pagamento seguro:</b> confira o destinat√°rio no seu banco e valide o <b>Order ID</b> antes de pagar.
      </div>
    </div>
  </div>


// ===== Strong validation (Roblox user) =====
(function(){
  window.__vvIsValidUser = function(u){
    const s = String(u||"").trim();
    // Roblox username: 3-20, letters/numbers/underscore, no spaces
    return /^[A-Za-z0-9_]{3,20}$/.test(s);
  };
})();


<script>
/* ===== Shopify-level UX: Mini-cart + Checkout steps ===== */
(function(){
  const $id = (id)=>document.getElementById(id);
  const moneyBR = (v)=> (window.moneyBR ? window.moneyBR(v) : (Number(v||0)).toLocaleString("pt-BR",{minimumFractionDigits:2, maximumFractionDigits:2}));

  // ---- Cart state (localStorage) ----
  function loadCart(){
    try{
      const raw = localStorage.getItem("vv_cart")||"[]";
      const arr = JSON.parse(raw);
      return Array.isArray(arr) ? arr : [];
    }catch(e){ return []; }
  }
  function saveCart(arr){
    try{ localStorage.setItem("vv_cart", JSON.stringify(arr)); }catch(e){}
  }
  function setCount(n){
    const el = $id("vvCartCount");
    if(el) el.textContent = String(n||0);
  }
  function renderCart(){
    const list = $id("vvCartList");
    const sub = $id("vvCartSubtotal");
    const arr = loadCart();
    setCount(arr.length);
    if(!list || !sub) return;
    if(!arr.length){
      list.innerHTML = `<div class="card" style="background:rgba(11,11,16,.18)"><b>Seu carrinho est√° vazio.</b><div class="desc" style="margin-top:6px">Volte no cat√°logo e toque em ‚ÄúComprar‚Äù para adicionar.</div></div>`;
      sub.textContent = "R$ 0,00";
      return;
    }
    const subtotal = arr.reduce((a,p)=>a + Number(p.price||0), 0);
    sub.textContent = "R$ " + moneyBR(subtotal);

    list.innerHTML = arr.map((p,i)=>`
      <div class="card" style="background:rgba(11,11,16,.18); margin-top:10px">
        <div class="krow" style="justify-content:space-between; gap:10px; flex-wrap:wrap">
          <div>
            <b>${(p.name||p.id||"Produto")}</b>
            <div class="desc" style="margin-top:4px">${(p.description||"")}</div>
          </div>
          <div style="text-align:right">
            <div class="currency">Pre√ßo</div>
            <div style="font-weight:1000">R$ ${moneyBR(p.price||0)}</div>
          </div>
        </div>
        <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap">
          <button class="totalBtn btnPrimary" type="button" data-cart-use="${i}" style="justify-content:center">Usar no checkout</button>
          <button class="totalBtn btnGhost" type="button" data-cart-del="${i}" style="justify-content:center">Remover</button>
        </div>
      </div>
    `).join("");
  }

  function openCart(){
    const m = $id("vvCart");
    if(!m) return;
    m.style.display = "block";
    m.setAttribute("aria-hidden","false");
    renderCart();
    $id("vvCartClose")?.focus();
  }
  function closeCart(){
    const m = $id("vvCart");
    if(!m) return;
    m.style.display = "none";
    m.setAttribute("aria-hidden","true");
  }

  $id("vvCartBtn")?.addEventListener("click", openCart);
  $id("vvFabCart")?.addEventListener("click", openCart);
  $id("vvCartClose")?.addEventListener("click", closeCart);
  $id("vvCartBackdrop")?.addEventListener("click", closeCart);

  $id("vvCartList")?.addEventListener("click", (e)=>{
    const use = e.target.closest("[data-cart-use]");
    const del = e.target.closest("[data-cart-del]");
    const arr = loadCart();
    if(use){
      const i = Number(use.getAttribute("data-cart-use"));
      const p = arr[i];
      if(p){
        window.__vvSelected = p;
        try{ window.populateInlineCheckout && window.populateInlineCheckout(p); }catch(e){}
        try{ window.updateResumo && window.updateResumo(); }catch(e){}
        closeCart();
        document.getElementById("checkout")?.scrollIntoView({behavior:"smooth"});
        setStep(2);
      }
    }
    if(del){
      const i = Number(del.getAttribute("data-cart-del"));
      arr.splice(i,1);
      saveCart(arr);
      renderCart();
    }
  });

  $id("vvCartGoCheckout")?.addEventListener("click", ()=>{
    closeCart();
    document.getElementById("checkout")?.scrollIntoView({behavior:"smooth"});
  });

  // ---- Intercept "Comprar" to ADD to cart + open modal for details still works via click elsewhere
  // We tag buy buttons with payload; use it.
  document.addEventListener("click", (e)=>{
    const buy = e.target.closest("button.buy[data-payload]");
    if(!buy) return;
    e.preventDefault();
    e.stopPropagation();
    try{
      const p = JSON.parse(buy.getAttribute("data-payload")||"{}");
      if(!p || !(p.id||p.name)) return;
      const arr = loadCart();
      arr.unshift(p);
      const next = arr.slice(0, 10); // cap
      saveCart(next);
      renderCart();
      openCart();
    }catch(err){}
  }, true);

  // ---- Checkout steps ----
  let step = 1;
  const hint = $id("vvStepHint");
  const s1 = $id("vvStep1"), s2 = $id("vvStep2"), s3 = $id("vvStep3");
  const prev = $id("vvPrevStep"), next = $id("vvNextStep");

  function paint(){
    const on = (el, active)=>{
      if(!el) return;
      el.style.borderColor = active ? "rgba(255,210,74,.28)" : "rgba(255,255,255,.12)";
      el.style.background = active ? "rgba(255,210,74,.12)" : "rgba(11,11,16,.18)";
    };
    on(s1, step===1); on(s2, step===2); on(s3, step===3);
    if(hint){
      if(step===1) hint.textContent = "Escolha um item no cat√°logo ou no carrinho.";
      if(step===2) hint.textContent = "Digite seu user do Roblox e (se quiser) use cupom.";
      if(step===3) hint.textContent = "Gere o pedido, copie o PIX e depois verifique o Order ID.";
    }
    if(prev) prev.disabled = (step===1);
    if(next) next.textContent = (step===3) ? "Finalizar ‚úÖ" : "Pr√≥ximo ‚Üí";
  }

  function setStep(n){
    step = Math.max(1, Math.min(3, Number(n||1)));
    paint();
    // focus helpful element
    if(step===1) document.getElementById("produtos")?.scrollIntoView({behavior:"smooth"});
    if(step===2) $id("vvCkUser")?.focus();
    if(step===3) $id("vvBtnCreate")?.focus();
  }
  window.__vvSetStep = setStep;
  paint();

  prev?.addEventListener("click", ()=>setStep(step-1));
  next?.addEventListener("click", ()=>{
    // validation per step
    if(step===1){
      if(!window.__vvSelected){
        // try use cart first item
        const arr = loadCart();
        if(arr[0]){
          window.__vvSelected = arr[0];
          try{ window.populateInlineCheckout && window.populateInlineCheckout(arr[0]); }catch(e){}
          try{ window.updateResumo && window.updateResumo(); }catch(e){}
        } else {
          window.vvToast ? window.vvToast("Selecione um item") : null;
          return;
        }
      }
      setStep(2);
      document.getElementById("checkout")?.scrollIntoView({behavior:"smooth"});
      return;
    }
    if(step===2){
      const user = ($id("vvCkUser")?.value||"").trim();
      const ok = window.__vvIsValidUser ? window.__vvIsValidUser(user) : /^[A-Za-z0-9_]{3,20}$/.test(user);
      if(!ok){
        ($id("vvCkStatus")||{}).textContent = "‚ö†Ô∏è user inv√°lido (3-20 letras/n√∫meros/_).";
        return;
      }
      setStep(3);
      return;
    }
    if(step===3){
      // just scroll to pay area / create order button
      document.getElementById("checkout")?.scrollIntoView({behavior:"smooth"});
      // optional: auto click if valid
      const btn = $id("vvBtnCreate");
      if(btn && !btn.disabled) btn.click();
    }
  });

  // init count
  setCount(loadCart().length);
})();
</script>

</body>
</html>
